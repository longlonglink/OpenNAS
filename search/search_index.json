{"config":{"lang":["zh","en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"OpenNAS Project Introduction","text":"<ul> <li>Switch to Chinese (\u5207\u6362\u81f3\u4e2d\u6587) \u2192 /zh/</li> </ul>"},{"location":"#forging-the-digital-ark-the-opennas-open-source-project","title":"Forging the Digital Ark: The OpenNAS Open Source Project","text":""},{"location":"#project-overview","title":"Project Overview","text":"<p>In an era where data is growing exponentially, we stand at a critical juncture in Internet history. OpenNAS is a high-performance, low-power, open-source Network Attached Storage (NAS) project dedicated to helping users regain sovereignty over their data.</p> <p>This is not just an ordinary storage device; it is the fundamental infrastructure for the individual in the digital world.</p>"},{"location":"#core-philosophy","title":"Core Philosophy","text":""},{"location":"#1-data-sovereignty-reclaimed","title":"1. Data Sovereignty Reclaimed","text":"<p>Amidst public cloud services facing frequent throttling, censorship, and data leaks, OpenNAS offers a truly personal storage solution: - Physical control over your data; reject \"privacy exposure.\" - No backdoors, no censorship\u2014my data, my rule.</p>"},{"location":"#2-a-privacy-sanctuary-in-the-ai-era","title":"2. A Privacy Sanctuary in the AI Era","text":"<p>Facing AI\u2019s insatiable demand for data, OpenNAS becomes your digital vault: - Supports running private, small-form-factor models locally. - Lets AI serve you, instead of turning you into big tech\u2019s data \u201cfuel.\u201d</p>"},{"location":"#3-breaking-commercial-barriers","title":"3. Breaking Commercial Barriers","text":"<p>We utilize high-performance hardware and an open-source design, shattering the industry's unspoken rule of \"low-spec, high-price\" practiced by traditional vendors: - Open-source hardware accessibility for high performance. - Extreme hardware quality versus open and transparent code.</p>"},{"location":"#4-embracing-the-web-30-era","title":"4. Embracing the Web 3.0 Era","text":"<p>OpenNAS is more than just storage; it's a personal multimedia publishing platform: - A decentralized content publishing hub. - Break free from platform traffic algorithms and constraints.</p>"},{"location":"#5-ultimate-energy-efficiency","title":"5. Ultimate Energy Efficiency","text":"<p>While pursuing high performance, we emphasize green computing: - Optimized underlying code and hardware selection. - Achieving maximum Performance per Watt. - Supports low-power operation under light load.</p>"},{"location":"#technical-features","title":"Technical Features","text":"<ul> <li>High-performance hardware architecture</li> <li>Low-power optimized design</li> <li>Open and transparent software stack</li> <li>Support for multiple storage protocols</li> <li>Easy to extend and customize</li> </ul>"},{"location":"documentation/","title":"Xilinx Product Selection Guide","text":"<ul> <li>7-Series</li> <li>Ultrascale +</li> <li>Ultrascale+ MPSOC</li> <li>ZYNQ-7000</li> </ul>"},{"location":"documentation/#altera-product-selection-guide","title":"Altera Product Selection Guide","text":"<ul> <li>Agilex5-E</li> <li>Agilex5-D</li> </ul>"},{"location":"documentation/#pcbsch","title":"PCB&amp;SCH","text":"<ul> <li>ZYNQ-7000 AC-DC</li> <li>ZYNQ-7000 GT</li> <li>ZYNQ-7000 PACAKGE</li> <li>POWER Estimator</li> <li>XPE Download</li> <li>ZYNQ PCB</li> </ul>"},{"location":"hw/","title":"PCB Design","text":""},{"location":"hw/#1-power","title":"1. Power","text":"<ul> <li>SIC431AED-T1-GE3 supplies the 1.0 V core rail, up to 24 A output.</li> <li>TPS82130SILR provides IO and auxiliary power, up to 3 A output.</li> </ul>"},{"location":"hw/#2-high-speed-transceivers","title":"2. High-Speed Transceivers","text":"<ul> <li>MGTREFCLK differential reference clock pins.</li> </ul>"},{"location":"hw/#21-pcie-nvme-ssd","title":"2.1 PCIe NVMe SSD","text":""},{"location":"hw/#22-sfp-10g-ethernet","title":"2.2 SFP+ 10G Ethernet","text":""},{"location":"hw/#3-ddr3-memory","title":"3. DDR3 Memory","text":""},{"location":"hw/#31-pl","title":"3.1 PL","text":"<ul> <li>2 GB</li> </ul>"},{"location":"hw/#31-ps","title":"3.1 PS","text":"<ul> <li>1 GB</li> </ul>"},{"location":"hw/#4-processor-boot","title":"4. Processor Boot","text":""},{"location":"hw/#41-nand-flash","title":"4.1 NAND Flash","text":""},{"location":"hw/#42-sd-tf-card","title":"4.2 SD / TF Card","text":"<ul> <li>TPS82130SILR handles 1.8 V and 3.3 V level shifting.</li> </ul>"},{"location":"hw/#5-others","title":"5. Others","text":""},{"location":"hw/#51-uart","title":"5.1 UART","text":""},{"location":"hw/#52-usb-20","title":"5.2 USB 2.0","text":"<ul> <li>USB3320C-EZK</li> </ul>"},{"location":"hw/#53-1000-mb-ethernet","title":"5.3 1000 Mb Ethernet","text":"<ul> <li>RTL8211</li> </ul>"},{"location":"hw/#54-hdmi-display","title":"5.4 HDMI Display","text":""},{"location":"introduction/","title":"OpenNAS Open Source Project","text":"<p>OpenNAS is a high-performance, low-power open-source Network Attached Storage (NAS) project based on FPGA. This project adopts a fully open-source design philosophy, with all code and design documents open to the community from hardware to software, from firmware to applications, dedicated to helping users regain sovereignty over their data.</p>"},{"location":"introduction/#hardware","title":"Hardware","text":""},{"location":"introduction/#1-main-control-chip","title":"1. Main Control Chip","text":"<p>We have chosen the Xilinx Zynq-7000 series FPGA as the core processor, specifically the XC7Z035-FFG900 model.</p>"},{"location":"introduction/#why-choose-fpga","title":"Why Choose FPGA?","text":"<ul> <li>Customizability: The hardware-programmable nature of FPGA allows us to deeply optimize for storage and networking applications</li> <li>High Performance: Through hardware acceleration, I/O performance far exceeding traditional ARM or x86 processors can be achieved</li> <li>Low Power Consumption: Compared to general-purpose processors with equivalent performance, FPGA consumes less power in specific application scenarios</li> <li>Open Source Friendly: FPGA designs can be developed and verified using open-source toolchains</li> </ul>"},{"location":"introduction/#technical-specifications","title":"Technical Specifications","text":"<ul> <li>Logic Cells: XC7Z035 provides 275K logic cells, sufficient to implement complex storage and network protocol stacks</li> <li>ARM Dual-Core Cortex-A9: Runs Linux operating system and upper-layer applications</li> <li>DDR3 Controller: Supports high-speed memory access</li> <li>PCIe Interface: Used to connect NVMe storage devices</li> </ul>"},{"location":"introduction/#2-network-interface-sfp","title":"2. Network Interface (SFP+)","text":"<p>OpenNAS provides 4\u00d7 10Gbps Ethernet interfaces through SFP+ optical modules for high-speed network connectivity.</p>"},{"location":"introduction/#design-features","title":"Design Features","text":"<ul> <li>10Gbps Bandwidth: Each interface supports 10Gbps full-duplex communication, with total bandwidth up to 40Gbps</li> <li>SFP+ Interface: Supports various optical modules and direct-attach copper cables, flexibly adapting to different network environments</li> <li>Hardware Acceleration: Network protocol processing is implemented in FPGA hardware, reducing CPU load</li> <li>Low Latency: Hardware-implemented network stack can achieve microsecond-level latency</li> </ul>"},{"location":"introduction/#application-scenarios","title":"Application Scenarios","text":"<ul> <li>High-speed file transfer and backup</li> <li>Media content distribution</li> </ul>"},{"location":"introduction/#3-storage-interface-nvme","title":"3. Storage Interface (NVMe)","text":"<p>OpenNAS achieves direct access to NVMe solid-state drives through PCIe soft core.</p>"},{"location":"introduction/#technical-implementation","title":"Technical Implementation","text":"<ul> <li>PCIe Soft Core: Implements PCIe protocol stack using Xilinx GT (Gigabit Transceiver) and RTL code</li> <li>NVMe Protocol Support: Complete NVMe 1.4 protocol implementation, supporting advanced features such as multi-queue and namespaces</li> <li>Multi-Drive Support: Can connect multiple NVMe SSDs simultaneously, enabling RAID or independent storage pools</li> <li>High Performance: Direct hardware access, avoiding overhead from traditional storage stacks</li> </ul>"},{"location":"introduction/#performance-advantages","title":"Performance Advantages","text":"<ul> <li>Low Latency: Hardware-implemented PCIe and NVMe protocol stacks, latency can be as low as microsecond level</li> <li>High Throughput: Fully utilizes the parallel performance of NVMe SSDs</li> <li>Scalable: Can support more storage devices through PCIe expansion</li> </ul>"},{"location":"introduction/#open-source-design","title":"Open Source Design","text":"<ul> <li>RTL Code Open Source: All PCIe and NVMe related RTL code is completely open source</li> <li>Customizable: Community can modify and optimize storage protocol implementation according to needs</li> <li>Transparency: Users can fully understand how data is stored and accessed</li> </ul>"},{"location":"introduction/#software","title":"Software","text":""},{"location":"introduction/#system-architecture","title":"System Architecture","text":"<p>OpenNAS software stack adopts a layered design, from bottom to top including:</p>"},{"location":"introduction/#1-operating-system-layer","title":"1. Operating System Layer","text":"<ul> <li>Linux Kernel: Based on mainline Linux kernel, optimized for storage and network applications</li> <li>Device Drivers: Provides complete driver support for FPGA hardware</li> <li>Resource Management: Efficient CPU, memory, and I/O resource scheduling</li> </ul>"},{"location":"introduction/#2-storage-management-layer","title":"2. Storage Management Layer","text":"<ul> <li>File Systems: Supports various modern file systems (ZFS, Btrfs, etc.)</li> <li>Storage Pool Management: Flexible storage pool configuration and management</li> <li>Data Protection: RAID, snapshots, backup, and other data protection mechanisms</li> <li>Performance Optimization: Intelligent caching, read-ahead, write merging, and other optimization strategies</li> </ul>"},{"location":"introduction/#3-network-service-layer","title":"3. Network Service Layer","text":"<ul> <li>File Sharing Protocols: Supports mainstream protocols such as SMB, NFS, FTP, SFTP</li> <li>Web Management Interface: Modern Web UI for convenient remote management</li> <li>Security Authentication: Complete user permission management and access control</li> </ul>"},{"location":"introduction/#4-application-service-layer","title":"4. Application Service Layer","text":"<ul> <li>Media Servers: Supports Plex, Jellyfin, and other media servers</li> <li>Cloud Sync: Supports Nextcloud, ownCloud, and other private cloud solutions</li> <li>Container Support: Docker containerized application deployment</li> <li>Web 3.0 Applications: Decentralized storage and content publishing features</li> </ul>"},{"location":"introduction/#web-30-features","title":"Web 3.0 Features","text":"<p>OpenNAS is not just a storage device, but also a personal multimedia publishing platform:</p> <ul> <li>Decentralized Content Publishing: Supports decentralized protocols such as IPFS and ActivityPub</li> <li>Content Sovereignty: Users have complete control over their content and data</li> <li>Freedom from Platform Constraints: No dependency on centralized platforms, freely publish and share content</li> <li>Privacy Protection: Content stored locally, users decide sharing scope</li> </ul>"},{"location":"introduction/#open-source-ecosystem","title":"Open Source Ecosystem","text":"<ul> <li>Fully Open Source: All software code is released under open source licenses</li> <li>Community Driven: Welcomes community contributions of code and features</li> <li>Comprehensive Documentation: Provides detailed technical documentation and development guides</li> <li>Easy to Extend: Modular design, convenient to add new features</li> </ul>"},{"location":"introduction/#firmware","title":"Firmware","text":""},{"location":"introduction/#tcp-offload-engine-toe","title":"TCP Offload Engine (TOE)","text":"<p>OpenNAS implements a TCP Offload Engine (TOE) in FPGA, transferring TCP protocol processing from CPU to hardware, significantly improving network performance.</p>"},{"location":"introduction/#technical-advantages","title":"Technical Advantages","text":"<ul> <li>CPU Offload: TCP protocol stack implemented in FPGA hardware, freeing CPU resources for other tasks</li> <li>Low Latency: Hardware-implemented TCP processing with much lower latency than software implementation</li> <li>High Throughput: Can easily achieve 10Gbps line-rate forwarding</li> <li>Low Power Consumption: Dedicated hardware is more energy-efficient than general-purpose CPU for network protocol processing</li> </ul>"},{"location":"introduction/#implementation-features","title":"Implementation Features","text":"<ul> <li>Complete TCP/IP Protocol Stack: Supports TCP, UDP, ICMP, and other protocols</li> <li>Connection Management: Supports large numbers of concurrent connections</li> <li>Traffic Control: Hardware-implemented congestion control and traffic shaping</li> <li>Security Features: Supports IPsec, TLS offload, and other security acceleration</li> </ul>"},{"location":"introduction/#other-firmware-features","title":"Other Firmware Features","text":""},{"location":"introduction/#1-storage-acceleration","title":"1. Storage Acceleration","text":"<ul> <li>NVMe Queue Management: Hardware-implemented command queues and completion queues</li> <li>DMA Engine: Efficient data transfer mechanism</li> <li>Cache Management: Intelligent read/write caching strategies</li> </ul>"},{"location":"introduction/#2-network-acceleration","title":"2. Network Acceleration","text":"<ul> <li>Packet Processing: Hardware-implemented packet classification, filtering, and forwarding</li> <li>Load Balancing: Load balancing across multiple network interfaces</li> <li>QoS Guarantee: Quality of service guarantee mechanisms</li> </ul>"},{"location":"introduction/#3-energy-efficiency-optimization","title":"3. Energy Efficiency Optimization","text":"<ul> <li>Thermal Management: Temperature monitoring and dynamic adjust fan speed</li> </ul>"},{"location":"introduction/#open-source-firmware","title":"Open Source Firmware","text":"<ul> <li>RTL Code Fully Open Source: All FPGA firmware code is open source</li> <li>Development Toolchain: Currently using Vivado, with plans to support open-source FPGA toolchains (such as Yosys, nextpnr) in the future</li> <li>Simulation and Verification: Provides complete test platforms and verification environments</li> <li>Documentation and Tutorials: Detailed firmware development documentation</li> </ul>"},{"location":"introduction/#project-goals","title":"Project Goals","text":""},{"location":"introduction/#technical-goals","title":"Technical Goals","text":"<ul> <li>High Performance: Achieve 10Gbps network throughput and microsecond-level latency</li> <li>Low Power Consumption: Power consumption more than 50% lower than traditional solutions at equivalent performance</li> <li>High Reliability: 7\u00d724 hours stable operation, zero data loss</li> <li>Ease of Use: Ready to use out of the box, simple configuration</li> </ul>"},{"location":"introduction/#open-source-goals","title":"Open Source Goals","text":"<ul> <li>Complete Transparency: Hardware, software, and firmware all open source</li> <li>Community Collaboration: Welcomes global developers to participate and contribute</li> <li>Knowledge Sharing: All design documents and technical details are public</li> <li>Continuous Improvement: Constantly optimized and improved based on community feedback</li> </ul>"},{"location":"introduction/#application-scenarios_1","title":"Application Scenarios","text":"<ul> <li>Personal Data Storage: Home NAS, personal cloud storage</li> <li>Small Business Storage: Small business file servers</li> <li>Media Center: Home media servers, content distribution</li> <li>Development and Testing: Developer test storage environments</li> <li>Edge Computing: Storage and computing platforms for edge nodes</li> </ul>"},{"location":"introduction/#contributing","title":"Contributing","text":"<p>OpenNAS is a fully open-source project, and we welcome all forms of contributions:</p> <ul> <li>Code Contributions: Hardware design, software development, firmware optimization</li> <li>Documentation Improvement: Technical documentation, user manuals, tutorials</li> <li>Testing and Feedback: Bug reports, performance testing, user experience</li> <li>Community Support: Answering questions, helping new users, promoting the project</li> </ul> <p>Let's build a truly user-owned open-source storage solution together!</p>"},{"location":"rtl/","title":"OpenNAS Firmware Implementation Guide","text":"<p>This document provides detailed information on implementing the FPGA firmware for the OpenNAS project, including core features such as TCP Offload Engine (TOE), storage implementation, network acceleration, and energy efficiency optimization.</p>"},{"location":"rtl/#overview","title":"Overview","text":"<p>OpenNAS firmware is implemented on Xilinx Zynq-7000 series FPGA (XC7Z035) using Scala with SpinalHDL mixed with Verilog to write HDL code. This hybrid design approach combines SpinalHDL's type safety and high-level abstraction capabilities with Verilog's flexibility and compatibility, making the code more robust and maintainable. The firmware design follows modular and extensible principles, with all code fully open source.</p>"},{"location":"rtl/#why-spinalhdl","title":"Why SpinalHDL?","text":"<ul> <li>Type Safety: Scala's strong type system can catch many errors at compile time</li> <li>High-Level Abstraction: SpinalHDL provides higher-level hardware description abstractions, reducing code volume</li> <li>Reusability: Better modularity and code reuse</li> <li>Mixed Design: Seamless integration with existing Verilog IP cores</li> </ul>"},{"location":"rtl/#development-environment","title":"Development Environment","text":""},{"location":"rtl/#toolchain","title":"Toolchain","text":"<ul> <li>Primary Tool: Xilinx Vivado (current version)</li> <li>Future Plans: Support for open-source toolchains (Yosys + nextpnr)</li> <li>Simulation Tools: XSim (Vivado built-in), Verilator (open-source simulator)</li> <li>Version Control: Git</li> <li>Build Tool: SBT (Scala Build Tool)</li> </ul>"},{"location":"rtl/#environment-setup","title":"Environment Setup","text":"Bash<pre><code># Install Scala and SBT\n# Install Vivado\n# Configure environment variables\nexport VIVADO_HOME=/path/to/vivado\nexport PATH=$PATH:$VIVADO_HOME/bin\n</code></pre>"},{"location":"rtl/#tcp-offload-engine-toe-implementation","title":"TCP Offload Engine (TOE) Implementation","text":""},{"location":"rtl/#architecture-design","title":"Architecture Design","text":"<p>The TOE module offloads the TCP/IP protocol stack from CPU to FPGA hardware, achieving high-performance network processing. The module adopts a pipeline design, supporting 10Gbps line-rate processing.</p>"},{"location":"rtl/#module-division","title":"Module Division","text":"<ol> <li>MAC Layer Interface</li> <li>10Gbps Ethernet MAC interface</li> <li>Supports SFP+ optical modules</li> <li>Auto-negotiation and link management</li> <li> <p>Supports 4 independent network interfaces</p> </li> <li> <p>IP Layer Processing</p> </li> <li>IPv4/IPv6 packet parsing</li> <li>IP routing and forwarding</li> <li>Fragmentation and reassembly</li> <li> <p>Supports multicast and broadcast</p> </li> <li> <p>TCP Layer Processing</p> </li> <li>Connection establishment and teardown (three-way handshake, four-way handshake)</li> <li>Sequence number and acknowledgment number management</li> <li>Flow control and congestion control</li> <li>Retransmission mechanism</li> <li> <p>Supports large numbers of concurrent connections (up to 64K)</p> </li> <li> <p>Application Layer Interface</p> </li> <li>AXI4 interface with ARM CPU: For control plane communication and configuration</li> <li>AXI-Stream interface with NVMe module: For data plane zero-copy transfer</li> <li>Zero-copy data transfer: Data transfers directly between network and storage, bypassing CPU</li> <li>Event notification mechanism: Notifies CPU through interrupts or polling</li> </ol>"},{"location":"rtl/#implementation-details","title":"Implementation Details","text":""},{"location":"rtl/#1-interface-description","title":"1. Interface Description","text":"<p>The TOE module provides the following main interfaces:</p> <p>AXI4 Interface with ARM CPU: - AXI4-Lite Control Interface: For configuring TOE parameters, querying connection status, etc. - AXI4 Data Interface: For transferring small amounts of control data - Interrupt Interface: For event notification (e.g., new connection established, connection closed, etc.)</p> <p>AXI-Stream Interface with NVMe Module: - Receive Data Stream (RX): Data received from network directly transferred to NVMe module via AXI-Stream - Transmit Data Stream (TX): Data read from NVMe module directly transferred to network via AXI-Stream - Flow Control Signals: Standard AXI-Stream signals such as <code>tready</code>, <code>tvalid</code>, <code>tlast</code> - Data Width: 512-bit, matching NVMe data width</p> <p>Network Interface: - 4\u00d7 10Gbps SFP+ Interfaces: Supports optical modules and direct-attach copper cables - MAC Layer Interface: Interface with Ethernet PHY</p> <p>Internal Interfaces: - Connection Table Interface: For lookup and management of TCP connections - Buffer Interface: For temporary storage of packets</p>"},{"location":"rtl/#2-tcp-state-machine","title":"2. TCP State Machine","text":""},{"location":"rtl/#performance-optimization","title":"Performance Optimization","text":"<ol> <li>Pipeline Design: Divide packet processing into multiple pipeline stages to improve throughput</li> <li>Parallel Processing: Support multiple packets processing simultaneously, fully utilizing FPGA parallelism</li> <li>Zero-Copy: Data transfers directly between FPGA and memory, bypassing CPU, reducing latency</li> <li>Hardware Acceleration: TCP checksum, IP checksum calculated in hardware</li> </ol>"},{"location":"rtl/#storage-implementation","title":"Storage Implementation","text":""},{"location":"rtl/#nvme-controller","title":"NVMe Controller","text":""},{"location":"rtl/#pcie-soft-core-implementation","title":"PCIe Soft Core Implementation","text":"<p>The PCIe soft core uses Xilinx GT (Gigabit Transceiver) to implement PCIe 3.0 x4 interface. This implementation includes:</p> <ul> <li>PCIe Configuration Space: Implements standard PCIe configuration registers</li> <li>TLP (Transaction Layer Packet) Processing: Handles PCIe transaction layer packets</li> <li>Link Training: Auto-negotiates link speed and width</li> <li>Error Handling: CRC checking, retransmission mechanisms, etc.</li> </ul> <p>The PCIe soft core connects with the NVMe controller through AXI4 interface, achieving efficient data transfer.</p>"},{"location":"rtl/#nvme-queue-management","title":"NVMe Queue Management","text":"<p>Multi-Queue Concurrency is one of the core features of NVMe. OpenNAS implements complete NVMe multi-queue support:</p> <p>Queue Architecture: - Admin Queue: 1 submission queue (SQ) and 1 completion queue (CQ) - I/O Queues: Supports up to 65535 I/O queue pairs (each queue pair contains 1 SQ and 1 CQ) - Queue Depth: Each queue supports up to 65536 entries</p> <p>Concurrent Processing: - Parallel Queue Processing: Multiple I/O queues can process commands simultaneously - Queue Priority: Supports queue priority scheduling - Interrupt Aggregation: Interrupts from multiple completion queues can be aggregated, reducing CPU interrupt overhead</p> <p>Implementation Features: - Uses SpinalHDL to implement type-safe queue management - Hardware-implemented queue pointer management, avoiding software overhead - Supports MSI/MSI-X interrupt mechanisms - Directly connects with TOE module through AXI-Stream interface, achieving zero-copy</p>"},{"location":"rtl/#dma-engine","title":"DMA Engine","text":"<p>SGDMA (Scatter-Gather DMA) engine implements efficient data transfer:</p> <p>Features: - Scatter/Gather Transfer: Supports transfer of non-contiguous memory regions - Automatic Page Boundary Handling: Automatically handles transfers across page boundaries - Multi-Channel Support: Supports multiple independent DMA channels - Priority Scheduling: Supports channel priority scheduling</p> <p>Integration with NVMe: - DMA engine directly connects with NVMe controller - Supports NVMe's PRP (Physical Region Page) and SGL (Scatter-Gather List) descriptors - Automatically handles data transfer for NVMe commands</p> <p>Performance Optimization: - Uses AXI4 burst transfer to improve bandwidth utilization - Supports prefetch mechanism to reduce latency - Hardware-implemented descriptor list traversal, reducing CPU load</p>"},{"location":"rtl/#network-acceleration-implementation","title":"Network Acceleration Implementation","text":""},{"location":"rtl/#load-balancing-and-failover","title":"Load Balancing and Failover","text":"<p>OpenNAS provides 4\u00d7 10Gbps network interfaces, supporting multiple aggregation modes:</p> <p>Load Balancing Modes: - Round-Robin: Distributes traffic to each interface in sequence - Least Connections: Assigns new connections to the interface with the fewest connections - Hash: Hashes based on source/destination IP and port, ensuring the same connection uses the same interface - Weighted Round-Robin: Distributes traffic based on interface weights</p> <p>Failover Modes: - Active-Standby: One primary interface works, others serve as backup - Link Aggregation: Multiple interfaces aggregated into one logical interface, improving bandwidth and reliability</p> <p>Application Scenarios: - Dual-Port NIC Direct Connection: Two devices connected via dual-port direct connection, achieving high bandwidth and redundancy - Multi-Path Transfer: Utilizes multiple network paths to increase total bandwidth - Network Redundancy: Automatically switches to other interfaces when one interface fails</p> <p>Implementation Details: - Hardware-implemented load balancing algorithms, low latency - Real-time interface status monitoring, fast fault detection - Supports LACP (Link Aggregation Control Protocol) - Integrated with TOE module, achieving transparent load balancing</p>"},{"location":"rtl/#energy-efficiency-optimization-implementation","title":"Energy Efficiency Optimization Implementation","text":""},{"location":"rtl/#fan-curve","title":"Fan Curve","text":"<p>OpenNAS uses XADC (Xilinx Analog-to-Digital Converter) to read temperature and controls fan speed according to configured fan curve.</p> <p>XADC Interface: - Temperature Sensor: Reads FPGA internal temperature sensor - External Temperature Sensors: Supports connecting external temperature sensors (e.g., CPU, NVMe SSD, etc.) - 12-bit ADC: High-precision temperature measurement - Sampling Frequency: Configurable sampling frequency</p> <p>Fan Curve Configuration: - Multi-Segment Linear Curve: Supports configuring multi-segment linear fan curves - Temperature Thresholds: Configurable multiple temperature threshold points - Speed Range: Supports PWM control, speed range 0-100% - Smooth Control: Uses PID controller to achieve smooth fan speed adjustment</p> <p>Typical Fan Curve: Text Only<pre><code>Temperature &lt; 40\u00b0C:  Fan speed 20%\n40\u00b0C - 50\u00b0C: Fan speed 20% - 40% (linear)\n50\u00b0C - 60\u00b0C: Fan speed 40% - 60% (linear)\n60\u00b0C - 70\u00b0C: Fan speed 60% - 80% (linear)\nTemperature &gt; 70\u00b0C:  Fan speed 100%\n</code></pre></p> <p>Implementation Method: - Uses SpinalHDL to implement temperature monitoring module - Hardware-implemented PID controller, fast response - Supports configuring fan curve parameters through AXI4-Lite interface - Real-time temperature monitoring and fan control, no CPU intervention required</p> <p>Safety Features: - Over-Temperature Protection: Automatically increases fan speed or reduces operating frequency when temperature exceeds safety threshold - Fault Detection: Detects fan faults (e.g., stopped) and alarms - Temperature History: Records temperature history data for analysis and optimization</p>"},{"location":"rtl/#simulation-and-verification","title":"Simulation and Verification","text":""},{"location":"rtl/#verification-methods","title":"Verification Methods","text":"<ol> <li>Unit Testing: Each module tested independently using SpinalHDL's testing framework</li> <li>Integration Testing: Interface testing between modules, verifying data flow correctness</li> <li>System Testing: Complete functionality testing, including end-to-end data transfer</li> <li>Performance Testing: Throughput and latency testing, verifying design goals are met</li> </ol>"},{"location":"rtl/#simulation-tools","title":"Simulation Tools","text":"<p>XSim (Vivado Simulator): - Built-in Vivado simulator - Supports Verilog, VHDL, SystemVerilog - Seamless integration with Vivado toolchain</p> <p>Verilator: - Open-source Verilog simulator - High performance, suitable for large-scale simulation - Supports SystemVerilog subset</p>"},{"location":"rtl/#debugging-tips","title":"Debugging Tips","text":"<ol> <li>ILA (Integrated Logic Analyzer): Use Vivado ILA for online debugging, viewing signal waveforms in real-time</li> <li>Simulation Waveforms: Use XSim or Verilator to view detailed waveforms, analyze timing issues</li> <li>Log Output: Use <code>println</code> in SpinalHDL code to output debug information</li> <li>Assertions: Use SystemVerilog assertions to check design constraints</li> </ol>"},{"location":"rtl/#development-guidelines","title":"Development Guidelines","text":""},{"location":"rtl/#spinalhdl-code-example","title":"SpinalHDL Code Example","text":""},{"location":"rtl/#mixed-design","title":"Mixed Design","text":""},{"location":"rtl/#references","title":"References","text":"<ul> <li>Xilinx Zynq-7000 Technical Documentation</li> <li>SpinalHDL Official Documentation</li> <li>PCIe Specification</li> <li>NVMe Specification</li> <li>TCP/IP Protocol Details</li> <li>AXI4 Specification</li> </ul>"},{"location":"rtl/#contributing","title":"Contributing","text":"<p>Contributions are welcome! Please follow these steps:</p> <ol> <li>Fork the project</li> <li>Create a feature branch</li> <li>Write code and tests (using SpinalHDL or Verilog)</li> <li>Ensure all tests pass</li> <li>Submit a Pull Request</li> </ol> <p>For more information, please refer to the project's contribution guidelines.</p>"},{"location":"sw/","title":"Linux Driver","text":""},{"location":"zh/","title":"OpenNAS \u9879\u76ee\u4ecb\u7ecd","text":"<ul> <li>Switch to English (\u5207\u6362\u81f3\u82f1\u6587) \u2192 /</li> </ul>"},{"location":"zh/#opennas","title":"\u91cd\u94f8\u6570\u5b57\u65b9\u821f\uff1aOpenNAS \u5f00\u6e90\u9879\u76ee","text":""},{"location":"zh/#_1","title":"\u9879\u76ee\u7b80\u4ecb","text":"<p>\u5728\u6570\u636e\u5448\u6307\u6570\u7ea7\u589e\u957f\u7684\u4eca\u5929\uff0c\u6211\u4eec\u6b63\u7ad9\u5728\u4e92\u8054\u7f51\u5386\u53f2\u7684\u5341\u5b57\u8def\u53e3\u3002OpenNAS \u662f\u4e00\u4e2a\u9ad8\u6027\u80fd\u3001\u4f4e\u529f\u8017\u7684\u5f00\u6e90\u7f51\u7edc\u9644\u52a0\u5b58\u50a8\uff08NAS\uff09\u9879\u76ee\uff0c\u65e8\u5728\u5e2e\u52a9\u7528\u6237\u91cd\u65b0\u638c\u63a7\u81ea\u5df1\u7684\u6570\u636e\u4e3b\u6743\u3002</p> <p>\u8fd9\u4e0d\u662f\u4e00\u53f0\u666e\u901a\u7684\u5b58\u50a8\u8bbe\u5907\uff0c\u800c\u662f\u4e2a\u4eba\u5728\u6570\u5b57\u4e16\u754c\u7684\u57fa\u7840\u8bbe\u65bd\u3002</p>"},{"location":"zh/#_2","title":"\u6838\u5fc3\u7406\u5ff5","text":""},{"location":"zh/#1","title":"1. \u6570\u636e\u4e3b\u6743\u56de\u5f52","text":"<p>\u5728\u516c\u6709\u4e91\u670d\u52a1\u9891\u53d1\u9650\u901f\u3001\u5ba1\u67e5\u548c\u6570\u636e\u6cc4\u9732\u7684\u80cc\u666f\u4e0b\uff0cOpenNAS \u63d0\u4f9b\u4e86\u4e00\u4e2a\u771f\u6b63\u5c5e\u4e8e\u7528\u6237\u81ea\u5df1\u7684\u5b58\u50a8\u89e3\u51b3\u65b9\u6848\uff1a - \u7269\u7406\u638c\u63a7\u6570\u636e\uff0c\u62d2\u7edd\"\u9690\u79c1\u88f8\u5954\" - \u6ca1\u6709\u540e\u95e8\uff0c\u6ca1\u6709\u5ba1\u67e5\uff0c\u6211\u7684\u6570\u636e\u6211\u505a\u4e3b</p>"},{"location":"zh/#2-ai","title":"2. AI \u65f6\u4ee3\u7684\"\u9690\u79c1\u907f\u96be\u6240\"","text":"<p>\u9762\u5bf9\u4eba\u5de5\u667a\u80fd\u5bf9\u6570\u636e\u7684\u8d2a\u5a6a\u9700\u6c42\uff0cOpenNAS \u6210\u4e3a\u60a8\u7684\u6570\u5b57\u4fdd\u9669\u67dc\uff1a - \u652f\u6301\u672c\u5730\u8fd0\u884c\u79c1\u6709\u5316\u5c0f\u578b\u6a21\u578b - \u8ba9 AI \u4e3a\u60a8\u670d\u52a1\uff0c\u800c\u975e\u6210\u4e3a\u4e92\u8054\u7f51\u516c\u53f8\u7684\u6570\u636e\"\u71c3\u6599\"</p>"},{"location":"zh/#3","title":"3. \u6253\u7834\u5546\u4e1a\u58c1\u5792","text":"<p>\u6211\u4eec\u91c7\u7528\u9ad8\u6027\u80fd\u786c\u4ef6\u548c\u5f00\u6e90\u8bbe\u8ba1\uff0c\u6253\u7834\u4f20\u7edf\u5382\u5546\"\u4f4e\u914d\u9ad8\u4ef7\"\u7684\u884c\u4e1a\u6f5c\u89c4\u5219\uff1a - \u9ad8\u6027\u80fd\u786c\u4ef6\u5f00\u6e90\u666e\u60e0 - \u6781\u81f4\u7684\u786c\u4ef6\u5806\u6599 vs \u5f00\u653e\u7684\u4ee3\u7801</p>"},{"location":"zh/#4-web-30","title":"4. \u8fce\u63a5 Web 3.0 \u65f6\u4ee3","text":"<p>OpenNAS \u4e0d\u4ec5\u662f\u5b58\u50a8\u5668\uff0c\u66f4\u662f\u4e2a\u4eba\u591a\u5a92\u4f53\u53d1\u5e03\u5e73\u53f0\uff1a - \u53bb\u4e2d\u5fc3\u5316\u7684\u5185\u5bb9\u53d1\u5e03\u4e2d\u5fc3 - \u6446\u8131\u5e73\u53f0\u6d41\u91cf\u7b97\u6cd5\u675f\u7f1a</p>"},{"location":"zh/#5","title":"5. \u6781\u81f4\u80fd\u6548\u6bd4","text":"<p>\u5728\u8ffd\u6c42\u9ad8\u6027\u80fd\u7684\u540c\u65f6\uff0c\u6ce8\u91cd\u7eff\u8272\u8ba1\u7b97\uff1a - \u4f18\u5316\u7684\u5e95\u5c42\u4ee3\u7801\u548c\u786c\u4ef6\u9009\u578b - \u5b9e\u73b0\u6781\u81f4\u7684 Performance per Watt - \u652f\u6301\u4f4e\u8d1f\u8f7d\u4e0b\u7684\u4f4e\u529f\u8017\u8fd0\u884c</p>"},{"location":"zh/#_3","title":"\u6280\u672f\u7279\u70b9","text":"<ul> <li>\u9ad8\u6027\u80fd\u786c\u4ef6\u67b6\u6784</li> <li>\u4f4e\u529f\u8017\u4f18\u5316\u8bbe\u8ba1</li> <li>\u5f00\u6e90\u900f\u660e\u7684\u8f6f\u4ef6\u6808</li> <li>\u652f\u6301\u591a\u79cd\u5b58\u50a8\u534f\u8bae</li> <li>\u6613\u4e8e\u6269\u5c55\u548c\u5b9a\u5236</li> </ul>"},{"location":"zh/documentation/","title":"Xilinx \u9009\u578b\u8868","text":"<ul> <li>7-Series</li> <li>Ultrascale +</li> <li>Ultrascale+ MPSOC</li> <li>ZYNQ-7000</li> </ul>"},{"location":"zh/documentation/#altera","title":"Altera \u9009\u578b\u8868","text":"<ul> <li>Agilex5-E</li> <li>Agilex5-D</li> <li>Agilex3 \u4e0d\u63a8\u8350Agilex3\uff0c\u6700\u591a4\u4e2a\u6536\u53d1\u5668\u3002</li> </ul>"},{"location":"zh/documentation/#pcbsch","title":"PCB&amp;SCH","text":"<ul> <li>ZYNQ-7000 AC-DC</li> <li>ZYNQ-7000 GT</li> <li>ZYNQ-7000 PACAKGE</li> <li>POWER Estimator</li> <li>XPE Download</li> <li>ZYNQ PCB</li> </ul>"},{"location":"zh/hw/","title":"PCB\u8bbe\u8ba1","text":""},{"location":"zh/hw/#1","title":"1.\u7535\u6e90","text":"<p>SIC431AED-T1-GE3\u63d0\u4f9b\u5185\u68381.0V\u7535\u6e90\uff0c\u53ef\u8f93\u51fa24A\u7535\u6d41 TPS82130SILR \u63d0\u4f9bIO\u548c\u8f85\u52a9\u7535\u6e90\uff0c\u6700\u5927\u8f93\u51fa3A\u7535\u6d41 12V\u7535\u6e90\u8f68\u8981\u4e2a\u51e0\u4e2aNVME\u786c\u76d8\u4f9b\u7535\uff0c</p>"},{"location":"zh/hw/#2","title":"2.\u9ad8\u901f\u6536\u53d1\u5668","text":"<p>MGTREFCLK\u5dee\u5206\u53c2\u8003\u65f6\u949f\u5f15\u811a </p>"},{"location":"zh/hw/#20","title":"2.0 \u56de\u73af\u6d4b\u8bd5","text":"<p>\u8fd1\u7aef\u73af\u56de\u6a21\u5f0f\u5c06\u4f20\u8f93\u6570\u636e\u73af\u56de\u5230\u6700\u9760\u8fd1\u6570\u636e\u6d41\u751f\u4ea7\u7684\u6536\u53d1\u5668\u4e2d\u3002\u8fdb\u5165\u548c\u9000\u51fa\u8fd1\u7aef PMA \u73af\u56de\u64cd\u4f5c\u540e\u9700\u8981\u8fdb\u884cGTRXRESET\u590d\u4f4d\uff08\u8fd1\u7aef\u73af\u56de\u65f6\u6570\u636e\u5728\u5f53\u524dGT \u901a\u9053\u73af\u56de\uff09\u3002  \u8fdc\u7aef\u73af\u56de\u6a21\u5f0f\u5c06\u63a5\u6536\u6570\u636e\u73af\u56de\u5230\u94fe\u8def\u8fdc\u7aef\u7684\u6536\u53d1\u5668\u4e2d\uff08\u8fdc\u7aef\u73af\u56de\u65f6\u6570\u636e\u5728\u53e6\u5916\u7684GT\u901a\u9053\u73af\u56de\uff09\u3002 Ibert ip \u5b9e\u73b0 \u9ad8\u901f\u5dee\u5206\u4fe1\u53f7\u6362\u5c42\u8981\u7528\u53cd\u710a\u76d8\u8bbe\u7f6e\u7981\u5e03\u7ebf\u533a\u57df\uff0c\u5e76\u5728\u9644\u8fd1\u653e\u5730\u8fc7\u5b54\u3002 1.\u964d\u4f4e\u5bc4\u751f\u7535\u5bb9,\u589e\u52a0\u963b\u6297 \u4f7f\u7528\u5c0f\u5c3a\u5bf8\u8fc7\u5b54\uff0c\u598240/15\u300145/20\u300150/25\u7b49 \u53bb\u9664\u975e\u529f\u80fd\u710a\u76d8\uff08\u5bf90.25\u53ca\u4ee5\u4e0b\u5b54\u5f84\u7684\u8fc7\u5b54\uff0c\u5efa\u8bae\u79fb\u9664\u975e\u529f\u80fd\u710a\u76d8\uff09 \u589e\u5927antipad\u5c3a\u5bf8 2.\u964d\u4f4e\u5bc4\u751f\u7535\u611f \u6700\u5c0f\u5316stub\uff08\u9760\u8fd1\u8868\u5c42\u8d70\u7ebf\u3001\u80cc\u94bb\u7b49\uff09 \u589e\u52a0GND\u8fc7\u5b54</p>"},{"location":"zh/hw/#21-pcie-nvme","title":"2.1 PCIE NVME \u786c\u76d8","text":""},{"location":"zh/hw/#22-sfp","title":"2.2 SFP+ \u4e07\u5146\u4ee5\u592a\u7f51","text":""},{"location":"zh/hw/#3ddr3","title":"3.DDR3\u5185\u5b58","text":""},{"location":"zh/hw/#30-ddr3","title":"3.0 DDR3\u7535\u6e90","text":"<p>VTT  0.75V \u8868\u5c42\u94fa\u94dc\uff0c\u548c\u65f6\u949f(CK/CK#)\u3001\u5730\u5740(A15~A0)\u548c\u63a7\u5236\u4fe1\u53f7(RAS#/CAS#/WE#)\u7aef\u63a5\u7535\u963b\uff0cFlyby\u62d3\u6251\u4e2d\u4f4d\u4e8e\u94fe\u8def\u6700\u8fdc\u7aef\uff0c\u4e00\u822c\u7528\u4e13\u7528\u7535\u6e90IC\u5b9e\u73b0\uff0c\u4f8b\u5982TPS51200 Vref  0.75V \u8868\u5c42\u94fa\u94dc VDD 1.5V \u7535\u6e90\u5c42\u94fa\u94dc</p>"},{"location":"zh/hw/#31-pl","title":"3.1 PL","text":"<p>2GB BANK 33,34,35</p>"},{"location":"zh/hw/#31-ps","title":"3.1 PS","text":"<p>1GB BANK 502</p>"},{"location":"zh/hw/#4","title":"4.\u5904\u7406\u5668\u542f\u52a8","text":""},{"location":"zh/hw/#41-nand-flash","title":"4.1 NAND FLASH","text":"<p>MT29F2G08ABAEAWP</p>"},{"location":"zh/hw/#42-sd-tf","title":"4.2 SD TF\u5361","text":"<p>TXS02612RTWR\u5b9e\u73b01.8V\u548c3.3V\u7535\u5e73\u8f6c\u6362</p>"},{"location":"zh/hw/#5","title":"5.\u5176\u4ed6","text":""},{"location":"zh/hw/#51-uart","title":"5.1 UART","text":""},{"location":"zh/hw/#52-usb20","title":"5.2 USB2.0","text":"<p>USB3320C-EZK</p>"},{"location":"zh/hw/#53-1000mb","title":"5.3 1000Mb \u4ee5\u592a\u7f51","text":"<p>RTL8211</p>"},{"location":"zh/hw/#54-hdmi","title":"5.4 HDMI \u663e\u793a","text":""},{"location":"zh/hw/#55-i2c","title":"5.5 I2C","text":""},{"location":"zh/introduction/","title":"OpenNAS \u5f00\u6e90\u9879\u76ee","text":"<p>OpenNAS \u662f\u4e00\u4e2a\u57fa\u4e8e FPGA \u7684\u9ad8\u6027\u80fd\u3001\u4f4e\u529f\u8017\u5f00\u6e90\u7f51\u7edc\u9644\u52a0\u5b58\u50a8\uff08NAS\uff09\u9879\u76ee\u3002\u672c\u9879\u76ee\u91c7\u7528\u5b8c\u5168\u5f00\u6e90\u7684\u8bbe\u8ba1\u7406\u5ff5\uff0c\u4ece\u786c\u4ef6\u5230\u8f6f\u4ef6\uff0c\u4ece\u56fa\u4ef6\u5230\u5e94\u7528\uff0c\u6240\u6709\u4ee3\u7801\u548c\u8bbe\u8ba1\u6587\u6863\u90fd\u5411\u793e\u533a\u5f00\u653e\uff0c\u81f4\u529b\u4e8e\u5e2e\u52a9\u7528\u6237\u91cd\u65b0\u638c\u63a7\u81ea\u5df1\u7684\u6570\u636e\u4e3b\u6743\u3002</p>"},{"location":"zh/introduction/#_1","title":"\u786c\u4ef6","text":""},{"location":"zh/introduction/#1","title":"1. \u4e3b\u63a7\u82af\u7247","text":"<p>\u6211\u4eec\u9009\u62e9\u4f7f\u7528 Xilinx Zynq-7000 \u7cfb\u5217 FPGA \u4f5c\u4e3a\u6838\u5fc3\u5904\u7406\u5668\uff0c\u5177\u4f53\u578b\u53f7\u4e3a XC7Z035-FFG900\u3002</p>"},{"location":"zh/introduction/#fpga","title":"\u4e3a\u4ec0\u4e48\u9009\u62e9 FPGA\uff1f","text":"<ul> <li>\u53ef\u5b9a\u5236\u6027\uff1aFPGA \u7684\u786c\u4ef6\u53ef\u7f16\u7a0b\u7279\u6027\u5141\u8bb8\u6211\u4eec\u9488\u5bf9\u5b58\u50a8\u548c\u7f51\u7edc\u5e94\u7528\u8fdb\u884c\u6df1\u5ea6\u4f18\u5316</li> <li>\u9ad8\u6027\u80fd\uff1a\u901a\u8fc7\u786c\u4ef6\u52a0\u901f\uff0c\u53ef\u4ee5\u5b9e\u73b0\u8fdc\u8d85\u4f20\u7edf ARM \u6216 x86 \u5904\u7406\u5668\u7684 I/O \u6027\u80fd</li> <li>\u4f4e\u529f\u8017\uff1a\u76f8\u6bd4\u540c\u7b49\u6027\u80fd\u7684\u901a\u7528\u5904\u7406\u5668\uff0cFPGA \u5728\u7279\u5b9a\u5e94\u7528\u573a\u666f\u4e0b\u529f\u8017\u66f4\u4f4e</li> <li>\u5f00\u6e90\u53cb\u597d\uff1aFPGA \u8bbe\u8ba1\u53ef\u4ee5\u4f7f\u7528\u5f00\u6e90\u5de5\u5177\u94fe\u8fdb\u884c\u5f00\u53d1\u548c\u9a8c\u8bc1</li> </ul>"},{"location":"zh/introduction/#_2","title":"\u6280\u672f\u89c4\u683c","text":"<ul> <li>\u903b\u8f91\u5355\u5143\uff1aXC7Z035 \u63d0\u4f9b 275K \u903b\u8f91\u5355\u5143\uff0c\u8db3\u4ee5\u5b9e\u73b0\u590d\u6742\u7684\u5b58\u50a8\u548c\u7f51\u7edc\u534f\u8bae\u6808</li> <li>ARM \u53cc\u6838 Cortex-A9\uff1a\u8fd0\u884c Linux \u64cd\u4f5c\u7cfb\u7edf\u548c\u4e0a\u5c42\u5e94\u7528</li> <li>DDR3 \u63a7\u5236\u5668\uff1a\u652f\u6301\u9ad8\u901f\u5185\u5b58\u8bbf\u95ee</li> <li>PCIe \u63a5\u53e3\uff1a\u7528\u4e8e\u8fde\u63a5 NVMe \u5b58\u50a8\u8bbe\u5907</li> </ul>"},{"location":"zh/introduction/#2-sfp","title":"2. \u7f51\u7edc\u63a5\u53e3\uff08SFP+\uff09","text":"<p>OpenNAS \u63d0\u4f9b 4 \u8def 10Gbps \u4ee5\u592a\u7f51\u63a5\u53e3\uff0c\u901a\u8fc7 SFP+ \u5149\u6a21\u5757\u5b9e\u73b0\u9ad8\u901f\u7f51\u7edc\u8fde\u63a5\u3002</p>"},{"location":"zh/introduction/#_3","title":"\u8bbe\u8ba1\u7279\u70b9","text":"<ul> <li>10Gbps \u5e26\u5bbd\uff1a\u6bcf\u8def\u63a5\u53e3\u652f\u6301 10Gbps \u5168\u53cc\u5de5\u901a\u4fe1\uff0c\u603b\u5e26\u5bbd\u53ef\u8fbe 40Gbps</li> <li>SFP+ \u63a5\u53e3\uff1a\u652f\u6301\u591a\u79cd\u5149\u6a21\u5757\u548c\u76f4\u8fde\u94dc\u7f06\uff0c\u7075\u6d3b\u9002\u914d\u4e0d\u540c\u7f51\u7edc\u73af\u5883</li> <li>\u786c\u4ef6\u52a0\u901f\uff1a\u7f51\u7edc\u534f\u8bae\u5904\u7406\u5728 FPGA \u786c\u4ef6\u4e2d\u5b9e\u73b0\uff0c\u964d\u4f4e CPU \u8d1f\u8f7d</li> <li>\u4f4e\u5ef6\u8fdf\uff1a\u786c\u4ef6\u5b9e\u73b0\u7684\u7f51\u7edc\u6808\u53ef\u4ee5\u5b9e\u73b0\u5fae\u79d2\u7ea7\u7684\u5ef6\u8fdf</li> </ul>"},{"location":"zh/introduction/#_4","title":"\u5e94\u7528\u573a\u666f","text":"<ul> <li>\u9ad8\u901f\u6587\u4ef6\u4f20\u8f93\u548c\u5907\u4efd</li> <li>\u5a92\u4f53\u5185\u5bb9\u5206\u53d1</li> </ul>"},{"location":"zh/introduction/#3-nvme","title":"3. \u5b58\u50a8\u63a5\u53e3\uff08NVMe\uff09","text":"<p>OpenNAS \u901a\u8fc7 PCIe \u8f6f\u6838\u5b9e\u73b0\u5bf9 NVMe \u56fa\u6001\u786c\u76d8\u7684\u76f4\u63a5\u8bbf\u95ee\u3002</p>"},{"location":"zh/introduction/#_5","title":"\u6280\u672f\u5b9e\u73b0","text":"<ul> <li>PCIe \u8f6f\u6838\uff1a\u4f7f\u7528 Xilinx GT\uff08Gigabit Transceiver\uff09\u548c RTL \u4ee3\u7801\u5b9e\u73b0 PCIe \u534f\u8bae\u6808</li> <li>NVMe \u534f\u8bae\u652f\u6301\uff1a\u5b8c\u6574\u7684 NVMe 1.4 \u534f\u8bae\u5b9e\u73b0\uff0c\u652f\u6301\u591a\u961f\u5217\u3001\u547d\u540d\u7a7a\u95f4\u7b49\u9ad8\u7ea7\u7279\u6027</li> <li>\u591a\u76d8\u652f\u6301\uff1a\u53ef\u540c\u65f6\u8fde\u63a5\u591a\u5757 NVMe SSD\uff0c\u5b9e\u73b0 RAID \u6216\u72ec\u7acb\u5b58\u50a8\u6c60</li> <li>\u9ad8\u6027\u80fd\uff1a\u76f4\u63a5\u786c\u4ef6\u8bbf\u95ee\uff0c\u907f\u514d\u4f20\u7edf\u5b58\u50a8\u6808\u7684\u5f00\u9500</li> </ul>"},{"location":"zh/introduction/#_6","title":"\u6027\u80fd\u4f18\u52bf","text":"<ul> <li>\u4f4e\u5ef6\u8fdf\uff1a\u786c\u4ef6\u5b9e\u73b0\u7684 PCIe \u548c NVMe \u534f\u8bae\u6808\uff0c\u5ef6\u8fdf\u53ef\u4f4e\u81f3\u5fae\u79d2\u7ea7</li> <li>\u9ad8\u541e\u5410\uff1a\u5145\u5206\u5229\u7528 NVMe SSD \u7684\u5e76\u884c\u6027\u80fd</li> <li>\u53ef\u6269\u5c55\uff1a\u901a\u8fc7 PCIe \u6269\u5c55\u53ef\u4ee5\u652f\u6301\u66f4\u591a\u5b58\u50a8\u8bbe\u5907</li> </ul>"},{"location":"zh/introduction/#_7","title":"\u5f00\u6e90\u8bbe\u8ba1","text":"<ul> <li>RTL \u4ee3\u7801\u5f00\u6e90\uff1a\u6240\u6709 PCIe \u548c NVMe \u76f8\u5173\u7684 RTL \u4ee3\u7801\u5b8c\u5168\u5f00\u6e90</li> <li>\u53ef\u5b9a\u5236\uff1a\u793e\u533a\u53ef\u4ee5\u6839\u636e\u9700\u6c42\u4fee\u6539\u548c\u4f18\u5316\u5b58\u50a8\u534f\u8bae\u5b9e\u73b0</li> <li>\u900f\u660e\u6027\uff1a\u7528\u6237\u53ef\u4ee5\u5b8c\u5168\u4e86\u89e3\u6570\u636e\u662f\u5982\u4f55\u88ab\u5b58\u50a8\u548c\u8bbf\u95ee\u7684</li> </ul>"},{"location":"zh/introduction/#_8","title":"\u8f6f\u4ef6","text":""},{"location":"zh/introduction/#_9","title":"\u7cfb\u7edf\u67b6\u6784","text":"<p>OpenNAS \u8f6f\u4ef6\u6808\u91c7\u7528\u5206\u5c42\u8bbe\u8ba1\uff0c\u4ece\u5e95\u5c42\u5230\u4e0a\u5c42\u5305\u62ec\uff1a</p>"},{"location":"zh/introduction/#1_1","title":"1. \u64cd\u4f5c\u7cfb\u7edf\u5c42","text":"<ul> <li>Linux \u5185\u6838\uff1a\u57fa\u4e8e\u4e3b\u7ebf Linux \u5185\u6838\uff0c\u9488\u5bf9\u5b58\u50a8\u548c\u7f51\u7edc\u5e94\u7528\u8fdb\u884c\u4f18\u5316</li> <li>\u8bbe\u5907\u9a71\u52a8\uff1a\u4e3a FPGA \u786c\u4ef6\u63d0\u4f9b\u5b8c\u6574\u7684\u9a71\u52a8\u652f\u6301</li> <li>\u8d44\u6e90\u7ba1\u7406\uff1a\u9ad8\u6548\u7684 CPU\u3001\u5185\u5b58\u548c I/O \u8d44\u6e90\u8c03\u5ea6</li> </ul>"},{"location":"zh/introduction/#2","title":"2. \u5b58\u50a8\u7ba1\u7406\u5c42","text":"<ul> <li>\u6587\u4ef6\u7cfb\u7edf\uff1a\u652f\u6301\u591a\u79cd\u73b0\u4ee3\u6587\u4ef6\u7cfb\u7edf\uff08ZFS\u3001Btrfs \u7b49\uff09</li> <li>\u5b58\u50a8\u6c60\u7ba1\u7406\uff1a\u7075\u6d3b\u7684\u5b58\u50a8\u6c60\u914d\u7f6e\u548c\u7ba1\u7406</li> <li>\u6570\u636e\u4fdd\u62a4\uff1aRAID\u3001\u5feb\u7167\u3001\u5907\u4efd\u7b49\u6570\u636e\u4fdd\u62a4\u673a\u5236</li> <li>\u6027\u80fd\u4f18\u5316\uff1a\u667a\u80fd\u7f13\u5b58\u3001\u9884\u8bfb\u3001\u5199\u5165\u5408\u5e76\u7b49\u4f18\u5316\u7b56\u7565</li> </ul>"},{"location":"zh/introduction/#3","title":"3. \u7f51\u7edc\u670d\u52a1\u5c42","text":"<ul> <li>\u6587\u4ef6\u5171\u4eab\u534f\u8bae\uff1a\u652f\u6301 SMB\u3001NFS\u3001FTP\u3001SFTP \u7b49\u4e3b\u6d41\u534f\u8bae</li> <li>Web \u7ba1\u7406\u754c\u9762\uff1a\u73b0\u4ee3\u5316\u7684 Web UI\uff0c\u65b9\u4fbf\u8fdc\u7a0b\u7ba1\u7406</li> <li>\u5b89\u5168\u8ba4\u8bc1\uff1a\u5b8c\u6574\u7684\u7528\u6237\u6743\u9650\u7ba1\u7406\u548c\u8bbf\u95ee\u63a7\u5236</li> </ul>"},{"location":"zh/introduction/#4","title":"4. \u5e94\u7528\u670d\u52a1\u5c42","text":"<ul> <li>\u5a92\u4f53\u670d\u52a1\u5668\uff1a\u652f\u6301 Plex\u3001Jellyfin \u7b49\u5a92\u4f53\u670d\u52a1\u5668</li> <li>\u4e91\u540c\u6b65\uff1a\u652f\u6301 Nextcloud\u3001ownCloud \u7b49\u79c1\u6709\u4e91\u65b9\u6848</li> <li>\u5bb9\u5668\u652f\u6301\uff1aDocker \u5bb9\u5668\u5316\u90e8\u7f72\u5e94\u7528</li> <li>Web 3.0 \u5e94\u7528\uff1a\u53bb\u4e2d\u5fc3\u5316\u5b58\u50a8\u548c\u5185\u5bb9\u53d1\u5e03\u529f\u80fd</li> </ul>"},{"location":"zh/introduction/#web-30","title":"Web 3.0 \u7279\u6027","text":"<p>OpenNAS \u4e0d\u4ec5\u662f\u5b58\u50a8\u5668\uff0c\u66f4\u662f\u4e2a\u4eba\u591a\u5a92\u4f53\u53d1\u5e03\u5e73\u53f0\uff1a</p> <ul> <li>\u53bb\u4e2d\u5fc3\u5316\u5185\u5bb9\u53d1\u5e03\uff1a\u652f\u6301 IPFS\u3001ActivityPub \u7b49\u53bb\u4e2d\u5fc3\u5316\u534f\u8bae</li> <li>\u5185\u5bb9\u81ea\u4e3b\u6743\uff1a\u7528\u6237\u5b8c\u5168\u63a7\u5236\u81ea\u5df1\u7684\u5185\u5bb9\u548c\u6570\u636e</li> <li>\u6446\u8131\u5e73\u53f0\u675f\u7f1a\uff1a\u4e0d\u4f9d\u8d56\u4e2d\u5fc3\u5316\u5e73\u53f0\uff0c\u81ea\u7531\u53d1\u5e03\u548c\u5206\u4eab\u5185\u5bb9</li> <li>\u9690\u79c1\u4fdd\u62a4\uff1a\u5185\u5bb9\u5b58\u50a8\u5728\u672c\u5730\uff0c\u7528\u6237\u51b3\u5b9a\u5206\u4eab\u8303\u56f4</li> </ul>"},{"location":"zh/introduction/#_10","title":"\u5f00\u6e90\u751f\u6001","text":"<ul> <li>\u5b8c\u5168\u5f00\u6e90\uff1a\u6240\u6709\u8f6f\u4ef6\u4ee3\u7801\u5728\u5f00\u6e90\u8bb8\u53ef\u8bc1\u4e0b\u53d1\u5e03</li> <li>\u793e\u533a\u9a71\u52a8\uff1a\u6b22\u8fce\u793e\u533a\u8d21\u732e\u4ee3\u7801\u548c\u529f\u80fd</li> <li>\u6587\u6863\u5b8c\u5584\uff1a\u63d0\u4f9b\u8be6\u7ec6\u7684\u6280\u672f\u6587\u6863\u548c\u5f00\u53d1\u6307\u5357</li> <li>\u6613\u4e8e\u6269\u5c55\uff1a\u6a21\u5757\u5316\u8bbe\u8ba1\uff0c\u65b9\u4fbf\u6dfb\u52a0\u65b0\u529f\u80fd</li> </ul>"},{"location":"zh/introduction/#_11","title":"\u56fa\u4ef6","text":""},{"location":"zh/introduction/#tcp-offload-engine-toe","title":"TCP Offload Engine (TOE)","text":"<p>OpenNAS \u5728 FPGA \u4e2d\u5b9e\u73b0\u4e86 TCP \u5378\u8f7d\u5f15\u64ce\uff08TOE\uff09\uff0c\u5c06 TCP \u534f\u8bae\u5904\u7406\u4ece CPU \u8f6c\u79fb\u5230\u786c\u4ef6\uff0c\u5927\u5e45\u63d0\u5347\u7f51\u7edc\u6027\u80fd\u3002</p>"},{"location":"zh/introduction/#_12","title":"\u6280\u672f\u4f18\u52bf","text":"<ul> <li>CPU \u5378\u8f7d\uff1aTCP \u534f\u8bae\u6808\u5728 FPGA \u786c\u4ef6\u4e2d\u5b9e\u73b0\uff0c\u91ca\u653e CPU \u8d44\u6e90\u7528\u4e8e\u5176\u4ed6\u4efb\u52a1</li> <li>\u4f4e\u5ef6\u8fdf\uff1a\u786c\u4ef6\u5b9e\u73b0\u7684 TCP \u5904\u7406\uff0c\u5ef6\u8fdf\u8fdc\u4f4e\u4e8e\u8f6f\u4ef6\u5b9e\u73b0</li> <li>\u9ad8\u541e\u5410\uff1a\u53ef\u4ee5\u8f7b\u677e\u8fbe\u5230 10Gbps \u7ebf\u901f\u8f6c\u53d1</li> <li>\u4f4e\u529f\u8017\uff1a\u4e13\u7528\u786c\u4ef6\u6bd4\u901a\u7528 CPU \u5904\u7406\u7f51\u7edc\u534f\u8bae\u66f4\u8282\u80fd</li> </ul>"},{"location":"zh/introduction/#_13","title":"\u5b9e\u73b0\u7279\u6027","text":"<ul> <li>\u5b8c\u6574 TCP/IP \u534f\u8bae\u6808\uff1a\u652f\u6301 TCP\u3001UDP\u3001ICMP \u7b49\u534f\u8bae</li> <li>\u8fde\u63a5\u7ba1\u7406\uff1a\u652f\u6301\u5927\u91cf\u5e76\u53d1\u8fde\u63a5</li> <li>\u6d41\u91cf\u63a7\u5236\uff1a\u786c\u4ef6\u5b9e\u73b0\u7684\u62e5\u585e\u63a7\u5236\u548c\u6d41\u91cf\u6574\u5f62</li> <li>\u5b89\u5168\u529f\u80fd\uff1a\u652f\u6301 IPsec\u3001TLS \u5378\u8f7d\u7b49\u5b89\u5168\u52a0\u901f</li> </ul>"},{"location":"zh/introduction/#_14","title":"\u5176\u4ed6\u56fa\u4ef6\u7279\u6027","text":""},{"location":"zh/introduction/#1_2","title":"1. \u5b58\u50a8\u52a0\u901f","text":"<ul> <li>NVMe \u961f\u5217\u7ba1\u7406\uff1a\u786c\u4ef6\u5b9e\u73b0\u7684\u547d\u4ee4\u961f\u5217\u548c\u5b8c\u6210\u961f\u5217</li> <li>DMA \u5f15\u64ce\uff1a\u9ad8\u6548\u7684\u6570\u636e\u4f20\u8f93\u673a\u5236</li> <li>\u7f13\u5b58\u7ba1\u7406\uff1a\u667a\u80fd\u7684\u8bfb\u5199\u7f13\u5b58\u7b56\u7565</li> </ul>"},{"location":"zh/introduction/#2_1","title":"2. \u7f51\u7edc\u52a0\u901f","text":"<ul> <li>\u6570\u636e\u5305\u5904\u7406\uff1a\u786c\u4ef6\u5b9e\u73b0\u7684\u5305\u5206\u7c7b\u3001\u8fc7\u6ee4\u548c\u8f6c\u53d1</li> <li>\u8d1f\u8f7d\u5747\u8861\uff1a\u591a\u8def\u7f51\u7edc\u63a5\u53e3\u7684\u8d1f\u8f7d\u5747\u8861</li> <li>QoS \u4fdd\u8bc1\uff1a\u670d\u52a1\u8d28\u91cf\u4fdd\u8bc1\u673a\u5236</li> </ul>"},{"location":"zh/introduction/#3_1","title":"3. \u80fd\u6548\u4f18\u5316","text":"<ul> <li>\u70ed\u7ba1\u7406\uff1a\u53ef\u4ee5\u901a\u8fc7\u6e29\u5ea6\u76d1\u63a7\u6765\u5b9e\u73b0\u98ce\u6247\u8f6c\u901f\u8c03\u8282</li> </ul>"},{"location":"zh/introduction/#_15","title":"\u5f00\u6e90\u56fa\u4ef6","text":"<ul> <li>RTL \u4ee3\u7801\u5b8c\u5168\u5f00\u6e90\uff1a\u6240\u6709 FPGA \u56fa\u4ef6\u4ee3\u7801\u5f00\u6e90</li> <li>\u5f00\u53d1\u5de5\u5177\u94fe\uff1a\u76ee\u524d\u5148\u4f7f\u7528Vivado\uff0c\u672a\u6765\u8ba1\u5212\u652f\u6301\u5f00\u6e90 FPGA \u5de5\u5177\u94fe\uff08\u5982 Yosys\u3001nextpnr\uff09</li> <li>\u4eff\u771f\u548c\u9a8c\u8bc1\uff1a\u63d0\u4f9b\u5b8c\u6574\u7684\u6d4b\u8bd5\u5e73\u53f0\u548c\u9a8c\u8bc1\u73af\u5883</li> <li>\u6587\u6863\u548c\u6559\u7a0b\uff1a\u8be6\u7ec6\u7684\u56fa\u4ef6\u5f00\u53d1\u6587\u6863</li> </ul>"},{"location":"zh/introduction/#_16","title":"\u9879\u76ee\u76ee\u6807","text":""},{"location":"zh/introduction/#_17","title":"\u6280\u672f\u76ee\u6807","text":"<ul> <li>\u9ad8\u6027\u80fd\uff1a\u5b9e\u73b0 10Gbps \u7f51\u7edc\u541e\u5410\u548c\u5fae\u79d2\u7ea7\u5ef6\u8fdf</li> <li>\u4f4e\u529f\u8017\uff1a\u5728\u540c\u7b49\u6027\u80fd\u4e0b\uff0c\u529f\u8017\u4f4e\u4e8e\u4f20\u7edf\u65b9\u6848 50% \u4ee5\u4e0a</li> <li>\u9ad8\u53ef\u9760\u6027\uff1a7\u00d724 \u5c0f\u65f6\u7a33\u5b9a\u8fd0\u884c\uff0c\u6570\u636e\u96f6\u4e22\u5931</li> <li>\u6613\u7528\u6027\uff1a\u5f00\u7bb1\u5373\u7528\uff0c\u914d\u7f6e\u7b80\u5355</li> </ul>"},{"location":"zh/introduction/#_18","title":"\u5f00\u6e90\u76ee\u6807","text":"<ul> <li>\u5b8c\u5168\u900f\u660e\uff1a\u786c\u4ef6\u3001\u8f6f\u4ef6\u3001\u56fa\u4ef6\u5168\u90e8\u5f00\u6e90</li> <li>\u793e\u533a\u5171\u5efa\uff1a\u6b22\u8fce\u5168\u7403\u5f00\u53d1\u8005\u53c2\u4e0e\u8d21\u732e</li> <li>\u77e5\u8bc6\u5171\u4eab\uff1a\u6240\u6709\u8bbe\u8ba1\u6587\u6863\u548c\u6280\u672f\u7ec6\u8282\u516c\u5f00</li> <li>\u6301\u7eed\u6539\u8fdb\uff1a\u57fa\u4e8e\u793e\u533a\u53cd\u9988\u4e0d\u65ad\u4f18\u5316\u548c\u5b8c\u5584</li> </ul>"},{"location":"zh/introduction/#_19","title":"\u5e94\u7528\u573a\u666f","text":"<ul> <li>\u4e2a\u4eba\u6570\u636e\u5b58\u50a8\uff1a\u5bb6\u5ead NAS\uff0c\u4e2a\u4eba\u4e91\u5b58\u50a8</li> <li>\u5c0f\u578b\u4f01\u4e1a\u5b58\u50a8\uff1a\u5c0f\u578b\u4f01\u4e1a\u6587\u4ef6\u670d\u52a1\u5668</li> <li>\u5a92\u4f53\u4e2d\u5fc3\uff1a\u5bb6\u5ead\u5a92\u4f53\u670d\u52a1\u5668\uff0c\u5185\u5bb9\u5206\u53d1</li> <li>\u5f00\u53d1\u6d4b\u8bd5\uff1a\u5f00\u53d1\u8005\u7684\u6d4b\u8bd5\u5b58\u50a8\u73af\u5883</li> <li>\u8fb9\u7f18\u8ba1\u7b97\uff1a\u8fb9\u7f18\u8282\u70b9\u7684\u5b58\u50a8\u548c\u8ba1\u7b97\u5e73\u53f0</li> </ul>"},{"location":"zh/introduction/#_20","title":"\u53c2\u4e0e\u8d21\u732e","text":"<p>OpenNAS \u662f\u4e00\u4e2a\u5b8c\u5168\u5f00\u6e90\u7684\u9879\u76ee\uff0c\u6211\u4eec\u6b22\u8fce\u6240\u6709\u5f62\u5f0f\u7684\u8d21\u732e\uff1a</p> <ul> <li>\u4ee3\u7801\u8d21\u732e\uff1a\u786c\u4ef6\u8bbe\u8ba1\u3001\u8f6f\u4ef6\u5f00\u53d1\u3001\u56fa\u4ef6\u4f18\u5316</li> <li>\u6587\u6863\u5b8c\u5584\uff1a\u6280\u672f\u6587\u6863\u3001\u7528\u6237\u624b\u518c\u3001\u6559\u7a0b</li> <li>\u6d4b\u8bd5\u53cd\u9988\uff1abug \u62a5\u544a\u3001\u6027\u80fd\u6d4b\u8bd5\u3001\u4f7f\u7528\u4f53\u9a8c</li> <li>\u793e\u533a\u652f\u6301\uff1a\u56de\u7b54\u95ee\u9898\u3001\u5e2e\u52a9\u65b0\u7528\u6237\u3001\u63a8\u5e7f\u9879\u76ee</li> </ul> <p>\u8ba9\u6211\u4eec\u4e00\u8d77\u6784\u5efa\u4e00\u4e2a\u771f\u6b63\u5c5e\u4e8e\u7528\u6237\u7684\u5f00\u6e90\u5b58\u50a8\u89e3\u51b3\u65b9\u6848\uff01</p>"},{"location":"zh/rtl/","title":"OpenNAS \u56fa\u4ef6\u5b9e\u73b0\u6307\u5357","text":"<p>\u672c\u6587\u6863\u8be6\u7ec6\u4ecb\u7ecd OpenNAS \u9879\u76ee\u4e2d FPGA \u56fa\u4ef6\u7684\u5b9e\u73b0\u65b9\u6cd5\uff0c\u5305\u62ec TCP \u5378\u8f7d\u5f15\u64ce\uff08TOE\uff09\u3001\u5b58\u50a8\u5b9e\u73b0\u3001\u7f51\u7edc\u52a0\u901f\u548c\u80fd\u6548\u4f18\u5316\u7b49\u6838\u5fc3\u529f\u80fd\u3002</p>"},{"location":"zh/rtl/#_1","title":"\u6982\u8ff0","text":"<p>OpenNAS \u56fa\u4ef6\u57fa\u4e8e Xilinx Zynq-7000 \u7cfb\u5217 FPGA\uff08XC7Z035\uff09\u5b9e\u73b0\uff0c\u91c7\u7528 Scala \u57fa\u4e8e SpinalHDL \u6df7\u5408 Verilog \u6765\u7f16\u5199 HDL \u4ee3\u7801\u3002\u8fd9\u79cd\u6df7\u5408\u8bbe\u8ba1\u65b9\u5f0f\u7ed3\u5408\u4e86 SpinalHDL \u7684\u7c7b\u578b\u5b89\u5168\u548c\u9ad8\u7ea7\u62bd\u8c61\u80fd\u529b\uff0c\u4ee5\u53ca Verilog \u7684\u7075\u6d3b\u6027\u548c\u517c\u5bb9\u6027\uff0c\u4f7f\u5f97\u4ee3\u7801\u66f4\u52a0\u5065\u58ee\u548c\u6613\u4e8e\u7ef4\u62a4\u3002\u56fa\u4ef6\u8bbe\u8ba1\u9075\u5faa\u6a21\u5757\u5316\u3001\u53ef\u6269\u5c55\u7684\u539f\u5219\uff0c\u6240\u6709\u4ee3\u7801\u5b8c\u5168\u5f00\u6e90\u3002</p>"},{"location":"zh/rtl/#spinalhdl","title":"\u4e3a\u4ec0\u4e48\u9009\u62e9 SpinalHDL\uff1f","text":"<ul> <li>\u7c7b\u578b\u5b89\u5168\uff1aScala \u7684\u5f3a\u7c7b\u578b\u7cfb\u7edf\u53ef\u4ee5\u5728\u7f16\u8bd1\u65f6\u6355\u83b7\u8bb8\u591a\u9519\u8bef</li> <li>\u9ad8\u7ea7\u62bd\u8c61\uff1aSpinalHDL \u63d0\u4f9b\u4e86\u66f4\u9ad8\u7ea7\u7684\u786c\u4ef6\u63cf\u8ff0\u62bd\u8c61\uff0c\u51cf\u5c11\u4ee3\u7801\u91cf</li> <li>\u53ef\u590d\u7528\u6027\uff1a\u66f4\u597d\u7684\u6a21\u5757\u5316\u548c\u4ee3\u7801\u590d\u7528</li> <li>\u6df7\u5408\u8bbe\u8ba1\uff1a\u53ef\u4ee5\u65e0\u7f1d\u96c6\u6210\u73b0\u6709\u7684 Verilog IP \u6838</li> </ul>"},{"location":"zh/rtl/#_2","title":"\u5f00\u53d1\u73af\u5883","text":""},{"location":"zh/rtl/#_3","title":"\u5de5\u5177\u94fe","text":"<ul> <li>\u4e3b\u8981\u5de5\u5177\uff1aXilinx Vivado\uff08\u5f53\u524d\u7248\u672c\uff09</li> <li>\u672a\u6765\u8ba1\u5212\uff1a\u652f\u6301\u5f00\u6e90\u5de5\u5177\u94fe\uff08Yosys + nextpnr\uff09</li> <li>\u4eff\u771f\u5de5\u5177\uff1aXSim\uff08Vivado \u5185\u7f6e\uff09\u3001Verilator\uff08\u5f00\u6e90\u4eff\u771f\u5668\uff09</li> <li>\u7248\u672c\u63a7\u5236\uff1aGit</li> <li>\u6784\u5efa\u5de5\u5177\uff1aSBT\uff08Scala Build Tool\uff09</li> </ul>"},{"location":"zh/rtl/#_4","title":"\u73af\u5883\u914d\u7f6e","text":"Bash<pre><code># \u5b89\u88c5 Scala \u548c SBT\n# \u5b89\u88c5 Vivado\n# \u914d\u7f6e\u73af\u5883\u53d8\u91cf\nexport VIVADO_HOME=/path/to/vivado\nexport PATH=$PATH:$VIVADO_HOME/bin\n</code></pre>"},{"location":"zh/rtl/#tcp-toe","title":"TCP \u5378\u8f7d\u5f15\u64ce\uff08TOE\uff09\u5b9e\u73b0","text":""},{"location":"zh/rtl/#_5","title":"\u67b6\u6784\u8bbe\u8ba1","text":"<p>TOE \u6a21\u5757\u5c06 TCP/IP \u534f\u8bae\u6808\u4ece CPU \u5378\u8f7d\u5230 FPGA \u786c\u4ef6\uff0c\u5b9e\u73b0\u9ad8\u6027\u80fd\u7f51\u7edc\u5904\u7406\u3002\u8be5\u6a21\u5757\u91c7\u7528\u6d41\u6c34\u7ebf\u8bbe\u8ba1\uff0c\u652f\u6301 10Gbps \u7ebf\u901f\u5904\u7406\u3002</p>"},{"location":"zh/rtl/#_6","title":"\u6a21\u5757\u5212\u5206","text":"<ol> <li>MAC \u5c42\u63a5\u53e3</li> <li>10Gbps \u4ee5\u592a\u7f51 MAC \u63a5\u53e3</li> <li>\u652f\u6301 SFP+ \u5149\u6a21\u5757</li> <li>\u81ea\u52a8\u534f\u5546\u548c\u94fe\u8def\u7ba1\u7406</li> <li> <p>\u652f\u6301 4 \u8def\u72ec\u7acb\u7f51\u7edc\u63a5\u53e3</p> </li> <li> <p>IP \u5c42\u5904\u7406</p> </li> <li>IPv4/IPv6 \u6570\u636e\u5305\u89e3\u6790</li> <li>IP \u8def\u7531\u548c\u8f6c\u53d1</li> <li>\u5206\u7247\u548c\u91cd\u7ec4</li> <li> <p>\u652f\u6301\u591a\u64ad\u548c\u5e7f\u64ad</p> </li> <li> <p>TCP \u5c42\u5904\u7406</p> </li> <li>\u8fde\u63a5\u5efa\u7acb\u548c\u62c6\u9664\uff08\u4e09\u6b21\u63e1\u624b\u3001\u56db\u6b21\u6325\u624b\uff09</li> <li>\u5e8f\u5217\u53f7\u548c\u786e\u8ba4\u53f7\u7ba1\u7406</li> <li>\u6d41\u91cf\u63a7\u5236\u548c\u62e5\u585e\u63a7\u5236</li> <li>\u91cd\u4f20\u673a\u5236</li> <li> <p>\u652f\u6301\u5927\u91cf\u5e76\u53d1\u8fde\u63a5\uff08\u6700\u591a 64K\uff09</p> </li> <li> <p>\u5e94\u7528\u5c42\u63a5\u53e3</p> </li> <li>\u4e0e ARM CPU \u7684 AXI4 \u63a5\u53e3\uff1a\u7528\u4e8e\u63a7\u5236\u5e73\u9762\u901a\u4fe1\u548c\u914d\u7f6e</li> <li>\u4e0e NVMe \u6a21\u5757\u7684 AXI-Stream \u63a5\u53e3\uff1a\u7528\u4e8e\u6570\u636e\u5e73\u9762\u96f6\u62f7\u8d1d\u4f20\u8f93</li> <li>\u96f6\u62f7\u8d1d\u6570\u636e\u4f20\u8f93\uff1a\u6570\u636e\u76f4\u63a5\u5728\u7f51\u7edc\u548c\u5b58\u50a8\u95f4\u4f20\u8f93\uff0c\u4e0d\u7ecf\u8fc7 CPU</li> <li>\u4e8b\u4ef6\u901a\u77e5\u673a\u5236\uff1a\u901a\u8fc7\u4e2d\u65ad\u6216\u8f6e\u8be2\u65b9\u5f0f\u901a\u77e5 CPU</li> </ol>"},{"location":"zh/rtl/#_7","title":"\u5b9e\u73b0\u7ec6\u8282","text":""},{"location":"zh/rtl/#1","title":"1. \u63a5\u53e3\u8bf4\u660e","text":"<p>TOE \u6a21\u5757\u63d0\u4f9b\u4ee5\u4e0b\u4e3b\u8981\u63a5\u53e3\uff1a</p> <p>\u4e0e ARM CPU \u7684 AXI4 \u63a5\u53e3\uff1a - AXI4-Lite \u63a7\u5236\u63a5\u53e3\uff1a\u7528\u4e8e\u914d\u7f6e TOE \u53c2\u6570\u3001\u67e5\u8be2\u8fde\u63a5\u72b6\u6001\u7b49 - AXI4 \u6570\u636e\u63a5\u53e3\uff1a\u7528\u4e8e\u5c11\u91cf\u63a7\u5236\u6570\u636e\u7684\u4f20\u8f93 - \u4e2d\u65ad\u63a5\u53e3\uff1a\u7528\u4e8e\u4e8b\u4ef6\u901a\u77e5\uff08\u5982\u65b0\u8fde\u63a5\u5efa\u7acb\u3001\u8fde\u63a5\u5173\u95ed\u7b49\uff09</p> <p>\u4e0e NVMe \u6a21\u5757\u7684 AXI-Stream \u63a5\u53e3\uff1a - \u63a5\u6536\u6570\u636e\u6d41\uff08RX\uff09\uff1a\u4ece\u7f51\u7edc\u63a5\u6536\u7684\u6570\u636e\u76f4\u63a5\u901a\u8fc7 AXI-Stream \u4f20\u8f93\u5230 NVMe \u6a21\u5757 - \u53d1\u9001\u6570\u636e\u6d41\uff08TX\uff09\uff1a\u4ece NVMe \u6a21\u5757\u8bfb\u53d6\u7684\u6570\u636e\u76f4\u63a5\u901a\u8fc7 AXI-Stream \u4f20\u8f93\u5230\u7f51\u7edc - \u6d41\u63a7\u5236\u4fe1\u53f7\uff1a<code>tready</code>\u3001<code>tvalid</code>\u3001<code>tlast</code> \u7b49\u6807\u51c6 AXI-Stream \u4fe1\u53f7 - \u6570\u636e\u5bbd\u5ea6\uff1a512-bit\uff0c\u5339\u914d NVMe \u7684\u6570\u636e\u5bbd\u5ea6</p> <p>\u7f51\u7edc\u63a5\u53e3\uff1a - 4\u00d7 10Gbps SFP+ \u63a5\u53e3\uff1a\u652f\u6301\u5149\u6a21\u5757\u548c\u76f4\u8fde\u94dc\u7f06 - MAC \u5c42\u63a5\u53e3\uff1a\u4e0e\u4ee5\u592a\u7f51 PHY \u7684\u63a5\u53e3</p> <p>\u5185\u90e8\u63a5\u53e3\uff1a - \u8fde\u63a5\u8868\u63a5\u53e3\uff1a\u7528\u4e8e\u67e5\u627e\u548c\u7ba1\u7406 TCP \u8fde\u63a5 - \u7f13\u51b2\u533a\u63a5\u53e3\uff1a\u7528\u4e8e\u6570\u636e\u5305\u7684\u4e34\u65f6\u5b58\u50a8</p>"},{"location":"zh/rtl/#2-tcp","title":"2. TCP \u72b6\u6001\u673a","text":""},{"location":"zh/rtl/#_8","title":"\u6027\u80fd\u4f18\u5316","text":"<ol> <li>\u6d41\u6c34\u7ebf\u8bbe\u8ba1\uff1a\u5c06\u6570\u636e\u5305\u5904\u7406\u5206\u4e3a\u591a\u4e2a\u6d41\u6c34\u7ebf\u9636\u6bb5\uff0c\u63d0\u9ad8\u541e\u5410\u91cf</li> <li>\u5e76\u884c\u5904\u7406\uff1a\u652f\u6301\u591a\u8def\u6570\u636e\u5305\u540c\u65f6\u5904\u7406\uff0c\u5145\u5206\u5229\u7528 FPGA \u7684\u5e76\u884c\u6027</li> <li>\u96f6\u62f7\u8d1d\uff1a\u6570\u636e\u76f4\u63a5\u5728 FPGA \u548c\u5185\u5b58\u95f4\u4f20\u8f93\uff0c\u4e0d\u7ecf\u8fc7 CPU\uff0c\u964d\u4f4e\u5ef6\u8fdf</li> <li>\u786c\u4ef6\u52a0\u901f\uff1aTCP \u6821\u9a8c\u548c\u3001IP \u6821\u9a8c\u548c\u7b49\u5728\u786c\u4ef6\u4e2d\u8ba1\u7b97</li> </ol>"},{"location":"zh/rtl/#_9","title":"\u5b58\u50a8\u5b9e\u73b0","text":""},{"location":"zh/rtl/#nvme","title":"NVMe \u63a7\u5236\u5668","text":""},{"location":"zh/rtl/#pcie","title":"PCIe \u8f6f\u6838\u5b9e\u73b0","text":"<p>PCIe \u8f6f\u6838\u4f7f\u7528 Xilinx GT\uff08Gigabit Transceiver\uff09\u5b9e\u73b0 PCIe 3.0 x4 \u63a5\u53e3\u3002\u8be5\u5b9e\u73b0\u5305\u62ec\uff1a</p> <ul> <li>PCIe \u914d\u7f6e\u7a7a\u95f4\uff1a\u5b9e\u73b0\u6807\u51c6\u7684 PCIe \u914d\u7f6e\u5bc4\u5b58\u5668</li> <li>TLP\uff08Transaction Layer Packet\uff09\u5904\u7406\uff1a\u5904\u7406 PCIe \u4e8b\u52a1\u5c42\u6570\u636e\u5305</li> <li>\u94fe\u8def\u8bad\u7ec3\uff1a\u81ea\u52a8\u534f\u5546\u94fe\u8def\u901f\u5ea6\u548c\u5bbd\u5ea6</li> <li>\u9519\u8bef\u5904\u7406\uff1aCRC \u6821\u9a8c\u3001\u91cd\u4f20\u673a\u5236\u7b49</li> </ul> <p>PCIe \u8f6f\u6838\u4e0e NVMe \u63a7\u5236\u5668\u901a\u8fc7 AXI4 \u63a5\u53e3\u8fde\u63a5\uff0c\u5b9e\u73b0\u9ad8\u6548\u7684\u6570\u636e\u4f20\u8f93\u3002</p>"},{"location":"zh/rtl/#nvme_1","title":"NVMe \u961f\u5217\u7ba1\u7406","text":"<p>\u591a\u961f\u5217\u5e76\u53d1\u662f NVMe \u7684\u6838\u5fc3\u7279\u6027\u4e4b\u4e00\u3002OpenNAS \u5b9e\u73b0\u4e86\u5b8c\u6574\u7684 NVMe \u591a\u961f\u5217\u652f\u6301\uff1a</p> <p>\u961f\u5217\u67b6\u6784\uff1a - \u7ba1\u7406\u961f\u5217\uff08Admin Queue\uff09\uff1a1 \u4e2a\u63d0\u4ea4\u961f\u5217\uff08SQ\uff09\u548c 1 \u4e2a\u5b8c\u6210\u961f\u5217\uff08CQ\uff09 - I/O \u961f\u5217\uff08I/O Queue\uff09\uff1a\u6700\u591a\u652f\u6301 65535 \u4e2a I/O \u961f\u5217\u5bf9\uff08\u6bcf\u4e2a\u961f\u5217\u5bf9\u5305\u542b 1 \u4e2a SQ \u548c 1 \u4e2a CQ\uff09 - \u961f\u5217\u6df1\u5ea6\uff1a\u6bcf\u4e2a\u961f\u5217\u652f\u6301\u6700\u591a 65536 \u4e2a\u6761\u76ee</p> <p>\u5e76\u53d1\u5904\u7406\uff1a - \u5e76\u884c\u961f\u5217\u5904\u7406\uff1a\u591a\u4e2a I/O \u961f\u5217\u53ef\u4ee5\u540c\u65f6\u5904\u7406\u547d\u4ee4 - \u961f\u5217\u4f18\u5148\u7ea7\uff1a\u652f\u6301\u961f\u5217\u4f18\u5148\u7ea7\u8c03\u5ea6 - \u4e2d\u65ad\u805a\u5408\uff1a\u591a\u4e2a\u5b8c\u6210\u961f\u5217\u7684\u4e2d\u65ad\u53ef\u4ee5\u805a\u5408\uff0c\u51cf\u5c11 CPU \u4e2d\u65ad\u5f00\u9500</p> <p>\u5b9e\u73b0\u7279\u70b9\uff1a - \u4f7f\u7528 SpinalHDL \u5b9e\u73b0\u7c7b\u578b\u5b89\u5168\u7684\u961f\u5217\u7ba1\u7406 - \u786c\u4ef6\u5b9e\u73b0\u7684\u961f\u5217\u6307\u9488\u7ba1\u7406\uff0c\u907f\u514d\u8f6f\u4ef6\u5f00\u9500 - \u652f\u6301 MSI/MSI-X \u4e2d\u65ad\u673a\u5236 - \u4e0e TOE \u6a21\u5757\u901a\u8fc7 AXI-Stream \u63a5\u53e3\u76f4\u63a5\u8fde\u63a5\uff0c\u5b9e\u73b0\u96f6\u62f7\u8d1d</p>"},{"location":"zh/rtl/#dma","title":"DMA \u5f15\u64ce","text":"<p>SGDMA\uff08Scatter-Gather DMA\uff09\u5f15\u64ce\u5b9e\u73b0\u9ad8\u6548\u7684\u6570\u636e\u4f20\u8f93\uff1a</p> <p>\u529f\u80fd\u7279\u6027\uff1a - \u5206\u6563/\u805a\u96c6\u4f20\u8f93\uff1a\u652f\u6301\u975e\u8fde\u7eed\u5185\u5b58\u533a\u57df\u7684\u4f20\u8f93 - \u81ea\u52a8\u9875\u8fb9\u754c\u5904\u7406\uff1a\u81ea\u52a8\u5904\u7406\u8de8\u9875\u8fb9\u754c\u7684\u4f20\u8f93 - \u591a\u901a\u9053\u652f\u6301\uff1a\u652f\u6301\u591a\u4e2a\u72ec\u7acb\u7684 DMA \u901a\u9053 - \u4f18\u5148\u7ea7\u8c03\u5ea6\uff1a\u652f\u6301\u901a\u9053\u4f18\u5148\u7ea7\u8c03\u5ea6</p> <p>\u4e0e NVMe \u7684\u96c6\u6210\uff1a - DMA \u5f15\u64ce\u76f4\u63a5\u4e0e NVMe \u63a7\u5236\u5668\u8fde\u63a5 - \u652f\u6301 NVMe \u7684 PRP\uff08Physical Region Page\uff09\u548c SGL\uff08Scatter-Gather List\uff09\u63cf\u8ff0\u7b26 - \u81ea\u52a8\u5904\u7406 NVMe \u547d\u4ee4\u7684\u6570\u636e\u4f20\u8f93</p> <p>\u6027\u80fd\u4f18\u5316\uff1a - \u4f7f\u7528 AXI4 \u7a81\u53d1\u4f20\u8f93\uff0c\u63d0\u9ad8\u5e26\u5bbd\u5229\u7528\u7387 - \u652f\u6301\u9884\u53d6\u673a\u5236\uff0c\u51cf\u5c11\u5ef6\u8fdf - \u786c\u4ef6\u5b9e\u73b0\u7684\u63cf\u8ff0\u7b26\u94fe\u8868\u904d\u5386\uff0c\u51cf\u5c11 CPU \u8d1f\u8f7d</p>"},{"location":"zh/rtl/#_10","title":"\u7f51\u7edc\u52a0\u901f\u5b9e\u73b0","text":""},{"location":"zh/rtl/#_11","title":"\u8d1f\u8f7d\u5747\u8861\u548c\u6545\u969c\u8f6c\u79fb","text":"<p>OpenNAS \u63d0\u4f9b 4 \u8def 10Gbps \u7f51\u7edc\u63a5\u53e3\uff0c\u652f\u6301\u591a\u79cd\u805a\u5408\u6a21\u5f0f\uff1a</p> <p>\u8d1f\u8f7d\u5747\u8861\u6a21\u5f0f\uff1a - \u8f6e\u8be2\uff08Round-Robin\uff09\uff1a\u6309\u987a\u5e8f\u5c06\u6d41\u91cf\u5206\u914d\u5230\u5404\u4e2a\u63a5\u53e3 - \u6700\u5c11\u8fde\u63a5\uff08Least Connections\uff09\uff1a\u5c06\u65b0\u8fde\u63a5\u5206\u914d\u7ed9\u8fde\u63a5\u6570\u6700\u5c11\u7684\u63a5\u53e3 - \u54c8\u5e0c\uff08Hash\uff09\uff1a\u6839\u636e\u6e90/\u76ee\u7684 IP \u548c\u7aef\u53e3\u8fdb\u884c\u54c8\u5e0c\uff0c\u4fdd\u8bc1\u540c\u4e00\u8fde\u63a5\u4f7f\u7528\u540c\u4e00\u63a5\u53e3 - \u52a0\u6743\u8f6e\u8be2\uff08Weighted Round-Robin\uff09\uff1a\u6839\u636e\u63a5\u53e3\u6743\u91cd\u5206\u914d\u6d41\u91cf</p> <p>\u6545\u969c\u8f6c\u79fb\u6a21\u5f0f\uff1a - \u4e3b\u5907\u6a21\u5f0f\uff08Active-Standby\uff09\uff1a\u4e00\u4e2a\u4e3b\u63a5\u53e3\u5de5\u4f5c\uff0c\u5176\u4ed6\u63a5\u53e3\u4f5c\u4e3a\u5907\u4efd - \u94fe\u8def\u805a\u5408\uff08Link Aggregation\uff09\uff1a\u591a\u4e2a\u63a5\u53e3\u805a\u5408\u4e3a\u4e00\u4e2a\u903b\u8f91\u63a5\u53e3\uff0c\u63d0\u9ad8\u5e26\u5bbd\u548c\u53ef\u9760\u6027</p> <p>\u5e94\u7528\u573a\u666f\uff1a - \u53cc\u7f51\u53e3\u7f51\u5361\u76f4\u8fde\uff1a\u4e24\u4e2a\u8bbe\u5907\u901a\u8fc7\u53cc\u7f51\u53e3\u76f4\u8fde\uff0c\u5b9e\u73b0\u9ad8\u5e26\u5bbd\u548c\u5197\u4f59 - \u591a\u8def\u5f84\u4f20\u8f93\uff1a\u5229\u7528\u591a\u4e2a\u7f51\u7edc\u8def\u5f84\u63d0\u9ad8\u603b\u5e26\u5bbd - \u7f51\u7edc\u5197\u4f59\uff1a\u5f53\u67d0\u4e2a\u63a5\u53e3\u6545\u969c\u65f6\uff0c\u81ea\u52a8\u5207\u6362\u5230\u5176\u4ed6\u63a5\u53e3</p> <p>\u5b9e\u73b0\u7ec6\u8282\uff1a - \u786c\u4ef6\u5b9e\u73b0\u7684\u8d1f\u8f7d\u5747\u8861\u7b97\u6cd5\uff0c\u4f4e\u5ef6\u8fdf - \u5b9e\u65f6\u76d1\u63a7\u63a5\u53e3\u72b6\u6001\uff0c\u5feb\u901f\u6545\u969c\u68c0\u6d4b - \u652f\u6301 LACP\uff08Link Aggregation Control Protocol\uff09 - \u4e0e TOE \u6a21\u5757\u96c6\u6210\uff0c\u5b9e\u73b0\u900f\u660e\u7684\u8d1f\u8f7d\u5747\u8861</p>"},{"location":"zh/rtl/#_12","title":"\u80fd\u6548\u4f18\u5316\u5b9e\u73b0","text":""},{"location":"zh/rtl/#_13","title":"\u98ce\u6247\u66f2\u7ebf","text":"<p>OpenNAS \u4f7f\u7528 XADC\uff08Xilinx Analog-to-Digital Converter\uff09 \u8bfb\u53d6\u6e29\u5ea6\uff0c\u5e76\u6839\u636e\u8bbe\u7f6e\u7684\u98ce\u6247\u66f2\u7ebf\u63a7\u5236\u98ce\u6247\u8f6c\u901f\u3002</p> <p>XADC \u63a5\u53e3\uff1a - \u6e29\u5ea6\u4f20\u611f\u5668\uff1a\u8bfb\u53d6 FPGA \u5185\u90e8\u6e29\u5ea6\u4f20\u611f\u5668 - \u5916\u90e8\u6e29\u5ea6\u4f20\u611f\u5668\uff1a\u652f\u6301\u8fde\u63a5\u5916\u90e8\u6e29\u5ea6\u4f20\u611f\u5668\uff08\u5982 CPU\u3001NVMe SSD \u7b49\uff09 - 12-bit ADC\uff1a\u9ad8\u7cbe\u5ea6\u6e29\u5ea6\u6d4b\u91cf - \u91c7\u6837\u9891\u7387\uff1a\u53ef\u914d\u7f6e\u7684\u91c7\u6837\u9891\u7387</p> <p>\u98ce\u6247\u66f2\u7ebf\u914d\u7f6e\uff1a - \u591a\u6bb5\u7ebf\u6027\u66f2\u7ebf\uff1a\u652f\u6301\u914d\u7f6e\u591a\u6bb5\u7ebf\u6027\u98ce\u6247\u66f2\u7ebf - \u6e29\u5ea6\u9608\u503c\uff1a\u53ef\u914d\u7f6e\u591a\u4e2a\u6e29\u5ea6\u9608\u503c\u70b9 - \u8f6c\u901f\u8303\u56f4\uff1a\u652f\u6301 PWM \u63a7\u5236\uff0c\u8f6c\u901f\u8303\u56f4 0-100% - \u5e73\u6ed1\u63a7\u5236\uff1a\u4f7f\u7528 PID \u63a7\u5236\u5668\u5b9e\u73b0\u5e73\u6ed1\u7684\u98ce\u6247\u8f6c\u901f\u8c03\u8282</p> <p>\u5178\u578b\u98ce\u6247\u66f2\u7ebf\uff1a Text Only<pre><code>\u6e29\u5ea6 &lt; 40\u00b0C:  \u98ce\u6247\u8f6c\u901f 20%\n40\u00b0C - 50\u00b0C: \u98ce\u6247\u8f6c\u901f 20% - 40%\uff08\u7ebf\u6027\uff09\n50\u00b0C - 60\u00b0C: \u98ce\u6247\u8f6c\u901f 40% - 60%\uff08\u7ebf\u6027\uff09\n60\u00b0C - 70\u00b0C: \u98ce\u6247\u8f6c\u901f 60% - 80%\uff08\u7ebf\u6027\uff09\n\u6e29\u5ea6 &gt; 70\u00b0C:  \u98ce\u6247\u8f6c\u901f 100%\n</code></pre></p> <p>\u5b9e\u73b0\u65b9\u5f0f\uff1a - \u4f7f\u7528 SpinalHDL \u5b9e\u73b0\u6e29\u5ea6\u76d1\u63a7\u6a21\u5757 - \u786c\u4ef6\u5b9e\u73b0\u7684 PID \u63a7\u5236\u5668\uff0c\u54cd\u5e94\u5feb\u901f - \u652f\u6301\u901a\u8fc7 AXI4-Lite \u63a5\u53e3\u914d\u7f6e\u98ce\u6247\u66f2\u7ebf\u53c2\u6570 - \u5b9e\u65f6\u6e29\u5ea6\u76d1\u63a7\u548c\u98ce\u6247\u63a7\u5236\uff0c\u65e0\u9700 CPU \u5e72\u9884</p> <p>\u5b89\u5168\u7279\u6027\uff1a - \u8fc7\u6e29\u4fdd\u62a4\uff1a\u5f53\u6e29\u5ea6\u8d85\u8fc7\u5b89\u5168\u9608\u503c\u65f6\uff0c\u81ea\u52a8\u63d0\u9ad8\u98ce\u6247\u8f6c\u901f\u6216\u964d\u4f4e\u5de5\u4f5c\u9891\u7387 - \u6545\u969c\u68c0\u6d4b\uff1a\u68c0\u6d4b\u98ce\u6247\u6545\u969c\uff08\u5982\u505c\u8f6c\uff09\u5e76\u62a5\u8b66 - \u6e29\u5ea6\u5386\u53f2\u8bb0\u5f55\uff1a\u8bb0\u5f55\u6e29\u5ea6\u5386\u53f2\u6570\u636e\uff0c\u7528\u4e8e\u5206\u6790\u548c\u4f18\u5316</p>"},{"location":"zh/rtl/#_14","title":"\u4eff\u771f\u548c\u9a8c\u8bc1","text":""},{"location":"zh/rtl/#_15","title":"\u9a8c\u8bc1\u65b9\u6cd5","text":"<ol> <li>\u5355\u5143\u6d4b\u8bd5\uff1a\u6bcf\u4e2a\u6a21\u5757\u72ec\u7acb\u6d4b\u8bd5\uff0c\u4f7f\u7528 SpinalHDL \u7684\u6d4b\u8bd5\u6846\u67b6</li> <li>\u96c6\u6210\u6d4b\u8bd5\uff1a\u6a21\u5757\u95f4\u63a5\u53e3\u6d4b\u8bd5\uff0c\u9a8c\u8bc1\u6570\u636e\u6d41\u6b63\u786e\u6027</li> <li>\u7cfb\u7edf\u6d4b\u8bd5\uff1a\u5b8c\u6574\u529f\u80fd\u6d4b\u8bd5\uff0c\u5305\u62ec\u7aef\u5230\u7aef\u7684\u6570\u636e\u4f20\u8f93</li> <li>\u6027\u80fd\u6d4b\u8bd5\uff1a\u541e\u5410\u91cf\u3001\u5ef6\u8fdf\u6d4b\u8bd5\uff0c\u9a8c\u8bc1\u662f\u5426\u8fbe\u5230\u8bbe\u8ba1\u76ee\u6807</li> </ol>"},{"location":"zh/rtl/#_16","title":"\u4eff\u771f\u5de5\u5177","text":"<p>XSim\uff08Vivado Simulator\uff09\uff1a - Vivado \u5185\u7f6e\u4eff\u771f\u5668 - \u652f\u6301 Verilog\u3001VHDL\u3001SystemVerilog - \u4e0e Vivado \u5de5\u5177\u94fe\u65e0\u7f1d\u96c6\u6210</p> <p>Verilator\uff1a - \u5f00\u6e90 Verilog \u4eff\u771f\u5668 - \u9ad8\u6027\u80fd\uff0c\u9002\u5408\u5927\u89c4\u6a21\u4eff\u771f - \u652f\u6301 SystemVerilog \u5b50\u96c6</p>"},{"location":"zh/rtl/#_17","title":"\u8c03\u8bd5\u6280\u5de7","text":"<ol> <li>ILA\uff08Integrated Logic Analyzer\uff09\uff1a\u4f7f\u7528 Vivado ILA \u8fdb\u884c\u5728\u7ebf\u8c03\u8bd5\uff0c\u5b9e\u65f6\u67e5\u770b\u4fe1\u53f7\u6ce2\u5f62</li> <li>\u4eff\u771f\u6ce2\u5f62\uff1a\u4f7f\u7528 XSim \u6216 Verilator \u67e5\u770b\u8be6\u7ec6\u6ce2\u5f62\uff0c\u5206\u6790\u65f6\u5e8f\u95ee\u9898</li> <li>\u65e5\u5fd7\u8f93\u51fa\uff1a\u5728 SpinalHDL \u4ee3\u7801\u4e2d\u4f7f\u7528 <code>println</code> \u8f93\u51fa\u8c03\u8bd5\u4fe1\u606f</li> <li>\u65ad\u8a00\uff08Assertions\uff09\uff1a\u4f7f\u7528 SystemVerilog \u65ad\u8a00\u68c0\u67e5\u8bbe\u8ba1\u7ea6\u675f</li> </ol>"},{"location":"zh/rtl/#_18","title":"\u5f00\u53d1\u6307\u5357","text":""},{"location":"zh/rtl/#spinalhdl_1","title":"SpinalHDL \u4ee3\u7801\u793a\u4f8b","text":""},{"location":"zh/rtl/#_19","title":"\u6df7\u5408\u8bbe\u8ba1","text":"<p>\u5728 SpinalHDL \u4e2d\u96c6\u6210 Verilog IP \u6838\uff1a</p> Scala<pre><code>class MixedDesign extends Component {\n  // SpinalHDL \u6a21\u5757\n  val spinalModule = new SpinalModule()\n\n  // Verilog \u6a21\u5757\uff08BlackBox\uff09\n  val verilogIP = new BlackBox {\n    val io = new Bundle {\n      val clk = in Bool()\n      val rst = in Bool()\n      val data = in UInt(32 bits)\n      val result = out UInt(32 bits)\n    }\n    // \u6620\u5c04\u5230 Verilog \u6a21\u5757\n    mapClockDomain(clockDomain, io.clk)\n  }\n\n  // \u8fde\u63a5\n  verilogIP.io.data := spinalModule.io.data\n  spinalModule.io.result := verilogIP.io.result\n}\n</code></pre>"},{"location":"zh/rtl/#_20","title":"\u53c2\u8003\u8d44\u6599","text":"<ul> <li>Xilinx Zynq-7000 \u6280\u672f\u6587\u6863</li> <li>SpinalHDL \u5b98\u65b9\u6587\u6863</li> <li>PCIe \u89c4\u8303</li> <li>NVMe \u89c4\u8303</li> <li>TCP/IP \u534f\u8bae\u8be6\u89e3</li> <li>AXI4 \u89c4\u8303</li> </ul>"},{"location":"zh/rtl/#_21","title":"\u8d21\u732e\u6307\u5357","text":"<p>\u6b22\u8fce\u8d21\u732e\u4ee3\u7801\uff01\u8bf7\u9075\u5faa\u4ee5\u4e0b\u6b65\u9aa4\uff1a</p> <ol> <li>Fork \u9879\u76ee</li> <li>\u521b\u5efa\u529f\u80fd\u5206\u652f</li> <li>\u7f16\u5199\u4ee3\u7801\u548c\u6d4b\u8bd5\uff08\u4f7f\u7528 SpinalHDL \u6216 Verilog\uff09</li> <li>\u786e\u4fdd\u4ee3\u7801\u901a\u8fc7\u6240\u6709\u6d4b\u8bd5</li> <li>\u63d0\u4ea4 Pull Request</li> </ol> <p>\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u8003\u9879\u76ee\u7684\u8d21\u732e\u6307\u5357\u3002</p>"},{"location":"zh/sw/","title":"Linux \u9a71\u52a8","text":""},{"location":"zh/sw/#tcp-offload","title":"TCP Offload","text":""},{"location":"zh/sw/#_1","title":"\u8f6f\u4ef6","text":""}]}